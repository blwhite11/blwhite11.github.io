<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 SECTION 3. Basic data management | curso-R</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.44 and GitBook 2.6.7" />

  <meta property="og:title" content="4 SECTION 3. Basic data management | curso-R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 SECTION 3. Basic data management | curso-R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="section-2.-introduction-to-r.html"/>
<link rel="next" href="section-4.-introduction-to-functions.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#description-of-the-r-programming-block"><i class="fa fa-check"></i><b>1.1</b> Description of the R programming block</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#contents-of-the-r-programming-block"><i class="fa fa-check"></i><b>1.2</b> Contents of the R programming block</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#evaluation"><i class="fa fa-check"></i><b>1.3</b> Evaluation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html"><i class="fa fa-check"></i><b>2</b> SECTION 1. Errors you may find in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html#installing-r"><i class="fa fa-check"></i><b>2.1</b> Installing R</a></li>
<li class="chapter" data-level="2.2" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html#loading-packages"><i class="fa fa-check"></i><b>2.2</b> Loading packages</a></li>
<li class="chapter" data-level="2.3" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html#defining-directories"><i class="fa fa-check"></i><b>2.3</b> Defining directories</a></li>
<li class="chapter" data-level="2.4" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html#resources-you-have"><i class="fa fa-check"></i><b>2.4</b> Resources you have</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html"><i class="fa fa-check"></i><b>3</b> SECTION 2. Introduction to R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#why-r"><i class="fa fa-check"></i><b>3.1</b> Why R?</a></li>
<li class="chapter" data-level="3.2" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#creating-a-new-project-directory-in-rstudio"><i class="fa fa-check"></i><b>3.2</b> Creating a new project directory in RStudio</a></li>
<li class="chapter" data-level="3.3" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#rstudio-interface"><i class="fa fa-check"></i><b>3.3</b> RStudio Interface</a></li>
<li class="chapter" data-level="3.4" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#organizing-your-working-directory-setting-up"><i class="fa fa-check"></i><b>3.4</b> Organizing your working directory &amp; setting up</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#viewing-your-working-directory"><i class="fa fa-check"></i><b>3.4.1</b> Viewing your working directory</a></li>
<li class="chapter" data-level="3.4.2" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#console-command-prompt"><i class="fa fa-check"></i><b>3.4.2</b> Console command prompt</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#simple-computations-with-r"><i class="fa fa-check"></i><b>3.5</b> Simple computations with R</a></li>
<li class="chapter" data-level="3.6" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#math-functions"><i class="fa fa-check"></i><b>3.6</b> Math functions</a></li>
<li class="chapter" data-level="3.7" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#variable-assignment"><i class="fa fa-check"></i><b>3.7</b> Variable Assignment</a></li>
<li class="chapter" data-level="3.8" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#data-types"><i class="fa fa-check"></i><b>3.8</b> Data types</a></li>
<li class="chapter" data-level="3.9" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#create-new-data"><i class="fa fa-check"></i><b>3.9</b> Create new data</a></li>
<li class="chapter" data-level="3.10" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#structures"><i class="fa fa-check"></i><b>3.10</b> Structures</a></li>
<li class="chapter" data-level="3.11" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#the-environment"><i class="fa fa-check"></i><b>3.11</b> The environment</a></li>
<li class="chapter" data-level="3.12" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#using-scripts"><i class="fa fa-check"></i><b>3.12</b> Using scripts</a></li>
<li class="chapter" data-level="3.13" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#r-basic-base-functions"><i class="fa fa-check"></i><b>3.13</b> R basic base functions</a></li>
<li class="chapter" data-level="3.14" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#reading-and-writing-data-files"><i class="fa fa-check"></i><b>3.14</b> Reading and writing data files</a></li>
<li class="chapter" data-level="3.15" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#librariespackages"><i class="fa fa-check"></i><b>3.15</b> Libraries/Packages</a>
<ul>
<li class="chapter" data-level="3.15.1" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#install-packages-from-cran"><i class="fa fa-check"></i><b>3.15.1</b> Install packages from CRAN</a></li>
<li class="chapter" data-level="3.15.2" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#install-packages-from-github"><i class="fa fa-check"></i><b>3.15.2</b> Install packages from GitHub</a></li>
</ul></li>
<li class="chapter" data-level="3.16" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#help-and-documentation"><i class="fa fa-check"></i><b>3.16</b> Help and documentation</a></li>
<li class="chapter" data-level="3.17" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#interesting-references"><i class="fa fa-check"></i><b>3.17</b> Interesting references:</a></li>
<li class="chapter" data-level="3.18" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#exercises"><i class="fa fa-check"></i><b>3.18</b> Exercises</a>
<ul>
<li class="chapter" data-level="3.18.1" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#part-i"><i class="fa fa-check"></i><b>3.18.1</b> Part I</a></li>
<li class="chapter" data-level="3.18.2" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#part-ii"><i class="fa fa-check"></i><b>3.18.2</b> Part II</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html"><i class="fa fa-check"></i><b>4</b> SECTION 3. Basic data management</a>
<ul>
<li class="chapter" data-level="4.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#accessing-information-and-creating-new-variables"><i class="fa fa-check"></i><b>4.1</b> Accessing information and creating new variables</a></li>
<li class="chapter" data-level="4.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#data-types-and-data-conversions"><i class="fa fa-check"></i><b>4.2</b> Data types and data conversions</a></li>
<li class="chapter" data-level="4.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#subsetting-datasets"><i class="fa fa-check"></i><b>4.3</b> Subsetting datasets</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#selecting-keeping-variables"><i class="fa fa-check"></i><b>4.3.1</b> Selecting (keeping) variables</a></li>
<li class="chapter" data-level="4.3.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#excluding-dropping-variables"><i class="fa fa-check"></i><b>4.3.2</b> Excluding (dropping) variables</a></li>
<li class="chapter" data-level="4.3.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#selecting-or-excluding-observations"><i class="fa fa-check"></i><b>4.3.3</b> Selecting or excluding observations</a></li>
<li class="chapter" data-level="4.3.4" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#conditional-selection-of-data"><i class="fa fa-check"></i><b>4.3.4</b> Conditional selection of data</a></li>
<li class="chapter" data-level="4.3.5" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#managing-missing-values"><i class="fa fa-check"></i><b>4.3.5</b> Managing missing values</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#recoding-variables"><i class="fa fa-check"></i><b>4.4</b> Recoding variables</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#subsetting-and-assigning"><i class="fa fa-check"></i><b>4.4.1</b> Subsetting and assigning</a></li>
<li class="chapter" data-level="4.4.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#using-the-within-function"><i class="fa fa-check"></i><b>4.4.2</b> Using the <code>within()</code> function</a></li>
<li class="chapter" data-level="4.4.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#using-the-ifelse-function."><i class="fa fa-check"></i><b>4.4.3</b> Using the <code>ifelse()</code> function.</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#merging-datasets"><i class="fa fa-check"></i><b>4.5</b> Merging datasets</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#adding-columns-horizontal-merge"><i class="fa fa-check"></i><b>4.5.1</b> Adding columns (Horizontal merge)</a></li>
<li class="chapter" data-level="4.5.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#adding-rows-vertical-merge"><i class="fa fa-check"></i><b>4.5.2</b> Adding rows (Vertical merge)</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#sorting-data"><i class="fa fa-check"></i><b>4.6</b> Sorting data</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#sorting-by-a-single-variable"><i class="fa fa-check"></i><b>4.6.1</b> Sorting by a single variable</a></li>
<li class="chapter" data-level="4.6.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#sorting-alphabetically"><i class="fa fa-check"></i><b>4.6.2</b> Sorting alphabetically</a></li>
<li class="chapter" data-level="4.6.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#sorting-by-multiple-variables"><i class="fa fa-check"></i><b>4.6.3</b> Sorting by multiple variables</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#regular-expressions-and-pattern-matching-and-replacement"><i class="fa fa-check"></i><b>4.7</b> Regular expressions and pattern matching and replacement</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#basic-functions-to-detect-patterns-in-r"><i class="fa fa-check"></i><b>4.7.1</b> Basic functions to detect patterns in R</a></li>
<li class="chapter" data-level="4.7.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#special-symbols"><i class="fa fa-check"></i><b>4.7.2</b> Special symbols</a></li>
<li class="chapter" data-level="4.7.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#basic-functions-to-locate-patterns-in-r"><i class="fa fa-check"></i><b>4.7.3</b> Basic functions to locate patterns in R</a></li>
<li class="chapter" data-level="4.7.4" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#split-a-string-using-a-pattern"><i class="fa fa-check"></i><b>4.7.4</b> Split a string using a pattern</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#exercises-data-management-optional"><i class="fa fa-check"></i><b>4.8</b> Exercises Data Management (Optional)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html"><i class="fa fa-check"></i><b>5</b> SECTION 4. Introduction to Functions</a>
<ul>
<li class="chapter" data-level="5.1" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#what-is-a-function"><i class="fa fa-check"></i><b>5.1</b> What is a function?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#built-in-r-functions"><i class="fa fa-check"></i><b>5.1.1</b> Built-in R functions</a></li>
<li class="chapter" data-level="5.1.2" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#functions-defined-in-r-packages"><i class="fa fa-check"></i><b>5.1.2</b> Functions defined in R packages</a></li>
<li class="chapter" data-level="5.1.3" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#user-defined-functions"><i class="fa fa-check"></i><b>5.1.3</b> User-defined functions</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#writing-your-own-functions"><i class="fa fa-check"></i><b>5.2</b> Writing your own functions</a></li>
<li class="chapter" data-level="5.3" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#arguments-of-a-function"><i class="fa fa-check"></i><b>5.3</b> Arguments of a function</a></li>
<li class="chapter" data-level="5.4" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#matching-arguments"><i class="fa fa-check"></i><b>5.4</b> Matching Arguments</a></li>
<li class="chapter" data-level="5.5" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#output-of-a-function"><i class="fa fa-check"></i><b>5.5</b> Output of a Function</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#examples-of-functions"><i class="fa fa-check"></i><b>5.5.1</b> Examples of functions</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#basic-r-programming"><i class="fa fa-check"></i><b>5.6</b> Basic R Programming</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#conditionals"><i class="fa fa-check"></i><b>5.6.1</b> Conditionals</a></li>
<li class="chapter" data-level="5.6.2" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#loops"><i class="fa fa-check"></i><b>5.6.2</b> Loops</a></li>
<li class="chapter" data-level="5.6.3" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#useful-functions-to-avoid-loops"><i class="fa fa-check"></i><b>5.6.3</b> Useful functions to avoid loops</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#references"><i class="fa fa-check"></i><b>5.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html"><i class="fa fa-check"></i><b>6</b> SECTION 5. Basic Plots</a>
<ul>
<li class="chapter" data-level="6.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#line-charts"><i class="fa fa-check"></i><b>6.1</b> Line charts</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics"><i class="fa fa-check"></i><b>6.1.1</b> Key Characteristics:</a></li>
<li class="chapter" data-level="6.1.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#use-cases"><i class="fa fa-check"></i><b>6.1.2</b> Use Cases:</a></li>
<li class="chapter" data-level="6.1.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customization-options"><i class="fa fa-check"></i><b>6.1.3</b> Customization Options:</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#dot-plot"><i class="fa fa-check"></i><b>6.2</b> Dot plot</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics-1"><i class="fa fa-check"></i><b>6.2.1</b> Key characteristics</a></li>
<li class="chapter" data-level="6.2.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#use-cases-1"><i class="fa fa-check"></i><b>6.2.2</b> Use cases</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#bar-charts"><i class="fa fa-check"></i><b>6.3</b> Bar charts</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics-2"><i class="fa fa-check"></i><b>6.3.1</b> Key characteristics</a></li>
<li class="chapter" data-level="6.3.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customization"><i class="fa fa-check"></i><b>6.3.2</b> Customization</a></li>
<li class="chapter" data-level="6.3.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#multiple-bar-plots"><i class="fa fa-check"></i><b>6.3.3</b> Multiple bar plots</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#histograms"><i class="fa fa-check"></i><b>6.4</b> Histograms</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics-3"><i class="fa fa-check"></i><b>6.4.1</b> Key characteristics</a></li>
<li class="chapter" data-level="6.4.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customization-1"><i class="fa fa-check"></i><b>6.4.2</b> Customization</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#boxplot"><i class="fa fa-check"></i><b>6.5</b> Boxplot</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics-4"><i class="fa fa-check"></i><b>6.5.1</b> Key characteristics</a></li>
<li class="chapter" data-level="6.5.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#use-cases-2"><i class="fa fa-check"></i><b>6.5.2</b> Use cases</a></li>
<li class="chapter" data-level="6.5.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customization-options-1"><i class="fa fa-check"></i><b>6.5.3</b> Customization options</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#commbining-different-plots"><i class="fa fa-check"></i><b>6.6</b> Commbining different plots</a></li>
<li class="chapter" data-level="6.7" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#scatter-plots"><i class="fa fa-check"></i><b>6.7</b> Scatter Plots</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#creating-a-simple-scatter-plot"><i class="fa fa-check"></i><b>6.7.1</b> Creating a Simple Scatter Plot</a></li>
<li class="chapter" data-level="6.7.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#add-new-data-to-an-existint-plot"><i class="fa fa-check"></i><b>6.7.2</b> Add new data to an existint plot</a></li>
<li class="chapter" data-level="6.7.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#adding-labels-to-data-points"><i class="fa fa-check"></i><b>6.7.3</b> Adding labels to data points</a></li>
<li class="chapter" data-level="6.7.4" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#using-legends"><i class="fa fa-check"></i><b>6.7.4</b> Using legends</a></li>
<li class="chapter" data-level="6.7.5" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customizing-scatter-plots"><i class="fa fa-check"></i><b>6.7.5</b> Customizing Scatter plots</a></li>
<li class="chapter" data-level="6.7.6" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#multiple-scatter-plots"><i class="fa fa-check"></i><b>6.7.6</b> Multiple scatter plots</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#important-graphical-functions-and-parameters"><i class="fa fa-check"></i><b>6.8</b> Important graphical functions and parameters</a></li>
<li class="chapter" data-level="6.9" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#saving-graphics-to-files"><i class="fa fa-check"></i><b>6.9</b> Saving Graphics to Files</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html"><i class="fa fa-check"></i><b>7</b> SECTION 6. Tips for efficient programming</a>
<ul>
<li class="chapter" data-level="7.1" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#top-tips-for-efficient-programming"><i class="fa fa-check"></i><b>7.1</b> Top tips for efficient programming</a></li>
<li class="chapter" data-level="7.2" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#optimizing-functions-calls"><i class="fa fa-check"></i><b>7.2</b> Optimizing functions calls</a></li>
<li class="chapter" data-level="7.3" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#memory-allocation"><i class="fa fa-check"></i><b>7.3</b> Memory allocation</a></li>
<li class="chapter" data-level="7.4" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#embrace-rs-vectorized-paradigm"><i class="fa fa-check"></i><b>7.4</b> Embrace R’s vectorized paradigm</a></li>
<li class="chapter" data-level="7.5" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#efficient-functions-do-as-little-as-possible"><i class="fa fa-check"></i><b>7.5</b> Efficient functions: Do as little as possible</a></li>
<li class="chapter" data-level="7.6" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#references-1"><i class="fa fa-check"></i><b>7.6</b> References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html"><i class="fa fa-check"></i><b>8</b> SECTION 7. Introduction to Object-oriented Programming (OOP)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#object-and-class-in-r"><i class="fa fa-check"></i><b>8.1</b> Object and Class in R</a></li>
<li class="chapter" data-level="8.2" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#s3-classes"><i class="fa fa-check"></i><b>8.2</b> S3 Classes</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#methods-and-generic-functions-in-s3-classes"><i class="fa fa-check"></i><b>8.2.1</b> Methods and Generic Functions in S3 classes:</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#s4-classes"><i class="fa fa-check"></i><b>8.3</b> S4 classes</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#methods-and-generic-functions-in-s4-classes"><i class="fa fa-check"></i><b>8.3.1</b> Methods and Generic Functions in S4 classes:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html"><i class="fa fa-check"></i><b>9</b> SECTION 8. Dynamic Reports</a>
<ul>
<li class="chapter" data-level="9.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#what-is-latex"><i class="fa fa-check"></i><b>9.1</b> What is LATEX?</a></li>
<li class="chapter" data-level="9.2" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#what-is-sweave"><i class="fa fa-check"></i><b>9.2</b> What is Sweave?</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#how-to-install-sweave"><i class="fa fa-check"></i><b>9.2.1</b> How to install Sweave</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#basic-options-for-code-chunks"><i class="fa fa-check"></i><b>9.3</b> Basic options for code chunks</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#for-costly-computations-cachesweave-package"><i class="fa fa-check"></i><b>9.3.1</b> For costly computations: <code>cacheSweave</code> package</a></li>
<li class="chapter" data-level="9.3.2" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#example"><i class="fa fa-check"></i><b>9.3.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#the-beamer-class-latex-presentations"><i class="fa fa-check"></i><b>9.4</b> The Beamer class: LATEX presentations</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#table-of-contents"><i class="fa fa-check"></i><b>9.4.1</b> Table of Contents</a></li>
<li class="chapter" data-level="9.4.2" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#sections-and-subsections"><i class="fa fa-check"></i><b>9.4.2</b> Sections and Subsections</a></li>
<li class="chapter" data-level="9.4.3" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#frames-and-structures"><i class="fa fa-check"></i><b>9.4.3</b> Frames and structures:</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#knitr-package"><i class="fa fa-check"></i><b>9.5</b> <code>Knitr</code> package</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#knitr-main-outputs"><i class="fa fa-check"></i><b>9.5.1</b> <code>Knitr</code> main outputs</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#r-markdown"><i class="fa fa-check"></i><b>9.6</b> R Markdown</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#installation"><i class="fa fa-check"></i><b>9.6.1</b> Installation</a></li>
<li class="chapter" data-level="9.6.2" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#output-formats"><i class="fa fa-check"></i><b>9.6.2</b> Output Formats</a></li>
<li class="chapter" data-level="9.6.3" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#output-format-functions"><i class="fa fa-check"></i><b>9.6.3</b> Output Format Functions</a></li>
<li class="chapter" data-level="9.6.4" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#chunk-options"><i class="fa fa-check"></i><b>9.6.4</b> Chunk Options</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#shiny"><i class="fa fa-check"></i><b>9.7</b> Shiny</a></li>
<li class="chapter" data-level="9.8" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#quarto"><i class="fa fa-check"></i><b>9.8</b> Quarto</a></li>
<li class="chapter" data-level="9.9" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#available-templates-for-each-block"><i class="fa fa-check"></i><b>9.9</b> Available templates for each block</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html"><i class="fa fa-check"></i><b>10</b> SECTION 9. Data managment using the dplyr package</a>
<ul>
<li class="chapter" data-level="10.1" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#the-filter-function-and-the-use-of-comparison-operators"><i class="fa fa-check"></i><b>10.1</b> The <code>filter()</code> function and the use of comparison operators</a></li>
<li class="chapter" data-level="10.2" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#sorting-with-arrange"><i class="fa fa-check"></i><b>10.2</b> Sorting with <code>arrange()</code></a></li>
<li class="chapter" data-level="10.3" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#accessing-rows-with-slice"><i class="fa fa-check"></i><b>10.3</b> Accessing rows with <code>slice()</code></a></li>
<li class="chapter" data-level="10.4" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#picking-columns-out-with-select"><i class="fa fa-check"></i><b>10.4</b> Picking columns out with <code>select()</code></a></li>
<li class="chapter" data-level="10.5" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#change-names-with-rename"><i class="fa fa-check"></i><b>10.5</b> Change names with <code>rename()</code></a></li>
<li class="chapter" data-level="10.6" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#transforming-pre-existing-columns-or-creating-new-ones-with-mutate"><i class="fa fa-check"></i><b>10.6</b> Transforming pre-existing columns or creating new ones with <code>mutate()</code></a></li>
<li class="chapter" data-level="10.7" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#to-sum-upgroup_by-summarise"><i class="fa fa-check"></i><b>10.7</b> To sum up…<code>group_by()</code> + <code>summarise()</code></a></li>
<li class="chapter" data-level="10.8" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#data-reshaping-and-cleaning-using-the-tidyr-package"><i class="fa fa-check"></i><b>10.8</b> Data reshaping and cleaning using the tidyr package</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#transforming-wide-to-long-format-with-pivot_longer"><i class="fa fa-check"></i><b>10.8.1</b> Transforming wide to long format with <code>pivot_longer()</code>:</a></li>
<li class="chapter" data-level="10.8.2" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#transforming-long-to-wide-format-with-pivot_wider"><i class="fa fa-check"></i><b>10.8.2</b> Transforming long to wide format with <code>pivot_wider()</code>:</a></li>
<li class="chapter" data-level="10.8.3" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#handling-missing-values-with-replace_na"><i class="fa fa-check"></i><b>10.8.3</b> Handling missing values with <code>replace_na()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#gt-and-gtsummary-packages"><i class="fa fa-check"></i><b>10.9</b> Gt and gtsummary packages</a>
<ul>
<li class="chapter" data-level="10.9.1" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#basic-summary-table-with-tbl_summary"><i class="fa fa-check"></i><b>10.9.1</b> Basic Summary Table with <code>tbl_summary()</code></a></li>
<li class="chapter" data-level="10.9.2" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#adding-statistical-tests-with-add_p"><i class="fa fa-check"></i><b>10.9.2</b> Adding statistical tests with <code>add_p()</code></a></li>
<li class="chapter" data-level="10.9.3" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#stratified-tables-with-tbl_strata"><i class="fa fa-check"></i><b>10.9.3</b> Stratified Tables with <code>tbl_strata()</code></a></li>
<li class="chapter" data-level="10.9.4" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#creating-cross-tables-with-tbl_cross"><i class="fa fa-check"></i><b>10.9.4</b> Creating Cross Tables with <code>tbl_cross()</code></a></li>
<li class="chapter" data-level="10.9.5" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#regression-table-with-tbl_regression"><i class="fa fa-check"></i><b>10.9.5</b> Regression table with <code>tbl_regression()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.10" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#exercises-1"><i class="fa fa-check"></i><b>10.10</b> Exercises</a>
<ul>
<li class="chapter" data-level="10.10.1" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#extra-exercises"><i class="fa fa-check"></i><b>10.10.1</b> Extra exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html"><i class="fa fa-check"></i><b>11</b> SECTION 10. Advanced Data Visualization: ggplot2 package</a>
<ul>
<li class="chapter" data-level="11.1" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#why-ggplot2"><i class="fa fa-check"></i><b>11.1</b> Why ggplot2?</a></li>
<li class="chapter" data-level="11.2" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#installation-1"><i class="fa fa-check"></i><b>11.2</b> Installation</a></li>
<li class="chapter" data-level="11.3" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#usage"><i class="fa fa-check"></i><b>11.3</b> Usage</a></li>
<li class="chapter" data-level="11.4" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#geometric-objects-and-aesthetics"><i class="fa fa-check"></i><b>11.4</b> Geometric Objects And Aesthetics</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#aesthetic-mapping"><i class="fa fa-check"></i><b>11.4.1</b> Aesthetic Mapping</a></li>
<li class="chapter" data-level="11.4.2" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#geometic-objects-geom"><i class="fa fa-check"></i><b>11.4.2</b> Geometic Objects (geom)</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#examples"><i class="fa fa-check"></i><b>11.5</b> Examples</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#categorical-variables"><i class="fa fa-check"></i><b>11.5.1</b> Categorical Variables</a></li>
<li class="chapter" data-level="11.5.2" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#quantitative-variables"><i class="fa fa-check"></i><b>11.5.2</b> Quantitative Variables</a></li>
<li class="chapter" data-level="11.5.3" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#more-advanced-code-customizing-your-plots"><i class="fa fa-check"></i><b>11.5.3</b> More advanced code: customizing your plots</a></li>
<li class="chapter" data-level="11.5.4" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#saving-plots"><i class="fa fa-check"></i><b>11.5.4</b> Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#exercises-create-new-plots-for-genetic-data-visualization-using-the-snpdataset.txt-dataset.-create-a-report-in-.html-format-and-display-and-describe-each-one-of-the-plots."><i class="fa fa-check"></i><b>11.6</b> Exercises: Create new plots for genetic data visualization using the <code>SNPdataset.txt</code> dataset. Create a report in .html format and display and describe each one of the plots.</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html"><i class="fa fa-check"></i><b>12</b> SECTION 11. Advanced Data Visualization: Extra Part</a>
<ul>
<li class="chapter" data-level="12.1" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#useful-plots-for-omics-data-analysis"><i class="fa fa-check"></i><b>12.1</b> Useful plots for Omics Data Analysis</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#heatmap"><i class="fa fa-check"></i><b>12.1.1</b> Heatmap</a></li>
<li class="chapter" data-level="12.1.2" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#venn-diagram"><i class="fa fa-check"></i><b>12.1.2</b> Venn Diagram</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#other-resources-in-r"><i class="fa fa-check"></i><b>12.2</b> Other resources in R</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#advanced-visualizations-with-ggpubr"><i class="fa fa-check"></i><b>12.2.1</b> Advanced visualizations with ggpubr</a></li>
<li class="chapter" data-level="12.2.2" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#dynamic-plots-with-gganimate"><i class="fa fa-check"></i><b>12.2.2</b> Dynamic plots with gganimate</a></li>
<li class="chapter" data-level="12.2.3" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#interactive-interfaces-for-creating-plots"><i class="fa fa-check"></i><b>12.2.3</b> Interactive interfaces for creating plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html"><i class="fa fa-check"></i><b>13</b> SECTION 12. Introduction to Shiny</a>
<ul>
<li class="chapter" data-level="13.1" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#writing-a-shiny-application-in-r"><i class="fa fa-check"></i><b>13.1</b> Writing a Shiny Application in R</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#ui-layout"><i class="fa fa-check"></i><b>13.1.1</b> UI Layout</a></li>
<li class="chapter" data-level="13.1.2" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#server-logic"><i class="fa fa-check"></i><b>13.1.2</b> Server Logic</a></li>
<li class="chapter" data-level="13.1.3" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#examples-1"><i class="fa fa-check"></i><b>13.1.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#elements-for-a-shiny-app"><i class="fa fa-check"></i><b>13.2</b> Elements for a Shiny App</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#ui-components"><i class="fa fa-check"></i><b>13.2.1</b> UI Components</a></li>
<li class="chapter" data-level="13.2.2" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#server-function"><i class="fa fa-check"></i><b>13.2.2</b> Server function</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#working-with-shinydashboard"><i class="fa fa-check"></i><b>13.3</b> Working with ShinyDashboard</a></li>
<li class="chapter" data-level="13.4" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#deploying-the-application-to-shinyapps.io"><i class="fa fa-check"></i><b>13.4</b> Deploying the Application to Shinyapps.io</a></li>
<li class="chapter" data-level="13.5" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#take-home"><i class="fa fa-check"></i><b>13.5</b> Take home</a></li>
<li class="chapter" data-level="13.6" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#final-task"><i class="fa fa-check"></i><b>13.6</b> Final Task</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-3.-basic-data-management" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> SECTION 3. Basic data management<a href="section-3.-basic-data-management.html#section-3.-basic-data-management" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="accessing-information-and-creating-new-variables" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Accessing information and creating new variables<a href="section-3.-basic-data-management.html#accessing-information-and-creating-new-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In a typical research project, you’ll need to create new variables and transform existing ones. This is accomplished with statements of the form:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="section-3.-basic-data-management.html#cb79-1" tabindex="-1"></a>variable <span class="ot">&lt;-</span> expression</span></code></pre></div>
<ul>
<li>Example</li>
</ul>
<p>Let’s say that you have a data frame named mydata, with variables <code>x1</code> and <code>x2</code>,</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="section-3.-basic-data-management.html#cb80-1" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x1=</span><span class="fu">runif</span>(<span class="dv">100</span>), <span class="at">x2=</span><span class="fu">runif</span>(<span class="dv">100</span>))</span>
<span id="cb80-2"><a href="section-3.-basic-data-management.html#cb80-2" tabindex="-1"></a><span class="fu">head</span>(mydata)</span></code></pre></div>
<pre><code>##          x1        x2
## 1 0.8912161 0.2615591
## 2 0.1758721 0.7891567
## 3 0.9915782 0.4192491
## 4 0.9009444 0.4230279
## 5 0.6072066 0.1008157
## 6 0.9863070 0.7549054</code></pre>
<p>and you want to create a new variable <code>sumx</code> that adds these two variables and a new variable called <code>meanx</code> that averages the two variables. If you use the code</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="section-3.-basic-data-management.html#cb82-1" tabindex="-1"></a>sumx <span class="ot">&lt;-</span> x1 <span class="sc">+</span> x2</span>
<span id="cb82-2"><a href="section-3.-basic-data-management.html#cb82-2" tabindex="-1"></a>meanx <span class="ot">&lt;-</span> (x1 <span class="sc">+</span> x2)<span class="sc">/</span><span class="dv">2</span></span></code></pre></div>
<p>you’ll get an error, because R doesn’t know that <code>x1</code> and <code>x2</code> are from data frame <code>mydata</code>.</p>
<p>If you use this code instead, the statements will succeed but you’ll end up with a data frame (<code>mydata</code>) and two separate vectors (<code>sumx</code> and <code>meanx</code>).</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="section-3.-basic-data-management.html#cb83-1" tabindex="-1"></a>sumx <span class="ot">&lt;-</span> mydata<span class="sc">$</span>x1 <span class="sc">+</span> mydata<span class="sc">$</span>x2</span>
<span id="cb83-2"><a href="section-3.-basic-data-management.html#cb83-2" tabindex="-1"></a>meanx <span class="ot">&lt;-</span> (mydata<span class="sc">$</span>x1 <span class="sc">+</span> mydata<span class="sc">$</span>x2)<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb83-3"><a href="section-3.-basic-data-management.html#cb83-3" tabindex="-1"></a><span class="fu">head</span>(mydata)</span></code></pre></div>
<pre><code>##          x1        x2
## 1 0.8912161 0.2615591
## 2 0.1758721 0.7891567
## 3 0.9915782 0.4192491
## 4 0.9009444 0.4230279
## 5 0.6072066 0.1008157
## 6 0.9863070 0.7549054</code></pre>
<p>Ultimately, you want to incorporate new variables into the original data frame:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="section-3.-basic-data-management.html#cb85-1" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x1 =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">4</span>), <span class="at">x2 =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">8</span>))</span>
<span id="cb85-2"><a href="section-3.-basic-data-management.html#cb85-2" tabindex="-1"></a><span class="fu">head</span>(mydata)</span></code></pre></div>
<pre><code>##   x1 x2
## 1  2  3
## 2  2  4
## 3  6  2
## 4  4  8</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="section-3.-basic-data-management.html#cb87-1" tabindex="-1"></a>mydata<span class="sc">$</span>sumx <span class="ot">&lt;-</span> mydata<span class="sc">$</span>x1 <span class="sc">+</span> mydata<span class="sc">$</span>x2</span>
<span id="cb87-2"><a href="section-3.-basic-data-management.html#cb87-2" tabindex="-1"></a>mydata<span class="sc">$</span>meanx <span class="ot">&lt;-</span> (mydata<span class="sc">$</span>x1 <span class="sc">+</span> mydata<span class="sc">$</span>x2)<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb87-3"><a href="section-3.-basic-data-management.html#cb87-3" tabindex="-1"></a><span class="fu">head</span>(mydata)</span></code></pre></div>
<pre><code>##   x1 x2 sumx meanx
## 1  2  3    5   2.5
## 2  2  4    6   3.0
## 3  6  2    8   4.0
## 4  4  8   12   6.0</code></pre>
<p>An alternative is to use the function <code>attach()</code> which specifies the data frame to be used and variables in the data frame can be accessed by simply giving their names.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="section-3.-basic-data-management.html#cb89-1" tabindex="-1"></a><span class="fu">attach</span>(mydata)</span></code></pre></div>
<pre><code>## The following objects are masked _by_ .GlobalEnv:
## 
##     meanx, sumx</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="section-3.-basic-data-management.html#cb91-1" tabindex="-1"></a>x1 <span class="sc">+</span> x2</span></code></pre></div>
<pre><code>## [1]  5  6  8 12</code></pre>
<p>The function <code>detach()</code> removes the attachment:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="section-3.-basic-data-management.html#cb93-1" tabindex="-1"></a><span class="fu">detach</span>(mydata)</span></code></pre></div>
<p>Also, we can use <code>with()</code>:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="section-3.-basic-data-management.html#cb94-1" tabindex="-1"></a><span class="fu">mean</span>(mydata<span class="sc">$</span>x1)</span></code></pre></div>
<pre><code>## [1] 3.5</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="section-3.-basic-data-management.html#cb96-1" tabindex="-1"></a><span class="fu">with</span>(mydata,<span class="fu">mean</span>(x1))</span></code></pre></div>
<pre><code>## [1] 3.5</code></pre>
</div>
<div id="data-types-and-data-conversions" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Data types and data conversions<a href="section-3.-basic-data-management.html#data-types-and-data-conversions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R provides a set of functions to identify an object’s data type and convert it to a different data type.
Type conversions in R work in a similar fashion to those in other statistical programming languages.
Some functions that you can use are:</p>
<ul>
<li><code>class()</code></li>
<li><code>is.numeric()</code> - <code>as.numeric()</code></li>
<li><code>is.character()</code> - <code>as.character()</code></li>
<li><code>is.vector()</code> - <code>as.vector()</code></li>
<li><code>is.matrix()</code> - <code>as.matrix()</code></li>
<li><code>is.data.frame()</code> - <code>as.data.frame()</code></li>
<li><code>is.factor()</code> - <code>as.factor()</code></li>
<li><code>is.logical()</code> - <code>as.logical()</code></li>
</ul>
<p>Functions of the form <code>is.datatype()</code>, return <code>TRUE</code> or <code>FALSE</code>, whereas <code>as.datatype()</code> converts the argument to that type.</p>
<ul>
<li>Examples</li>
</ul>
<p>Is “a” numeric, integer, vector?</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="section-3.-basic-data-management.html#cb98-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.3</span>,<span class="fl">2.1</span>,<span class="fl">3.8</span>)</span>
<span id="cb98-2"><a href="section-3.-basic-data-management.html#cb98-2" tabindex="-1"></a><span class="fu">is.numeric</span>(a)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="section-3.-basic-data-management.html#cb100-1" tabindex="-1"></a><span class="fu">is.integer</span>(a)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="section-3.-basic-data-management.html#cb102-1" tabindex="-1"></a><span class="fu">is.vector</span>(a)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>If we force “a” to be transformed to something else…</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="section-3.-basic-data-management.html#cb104-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">as.character</span>(a)</span>
<span id="cb104-2"><a href="section-3.-basic-data-management.html#cb104-2" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] &quot;1.3&quot; &quot;2.1&quot; &quot;3.8&quot;</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="section-3.-basic-data-management.html#cb106-1" tabindex="-1"></a><span class="fu">is.numeric</span>(a)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="section-3.-basic-data-management.html#cb108-1" tabindex="-1"></a><span class="fu">is.vector</span>(a)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="section-3.-basic-data-management.html#cb110-1" tabindex="-1"></a><span class="fu">is.character</span>(a)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>And again…</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="section-3.-basic-data-management.html#cb112-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(a)</span>
<span id="cb112-2"><a href="section-3.-basic-data-management.html#cb112-2" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="section-3.-basic-data-management.html#cb114-1" tabindex="-1"></a><span class="fu">is.numeric</span>(a)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="section-3.-basic-data-management.html#cb116-1" tabindex="-1"></a><span class="fu">is.integer</span>(a)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="section-3.-basic-data-management.html#cb118-1" tabindex="-1"></a><span class="fu">is.vector</span>(a)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Notice that:</p>
<p><em>An object can be more than one “type” of data. For instance, vector AND numeric, vector AND character, vector AND numeric AND integer
</em>R will always identify characters with the following notation: “something”. It doesn’t matter if inside the quotation marks there are is numbers or letters.</p>
<p>In R, <code>factor()</code> is used to convert a categorical variable into a factor in R:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="section-3.-basic-data-management.html#cb120-1" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="section-3.-basic-data-management.html#cb122-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> a, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Group1&quot;</span>,<span class="st">&quot;Group2&quot;</span>,<span class="st">&quot;Group3&quot;</span>))</span>
<span id="cb122-2"><a href="section-3.-basic-data-management.html#cb122-2" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] Group1 Group2 Group3
## Levels: Group1 Group2 Group3</code></pre>
<p>In this example, we start with a numeric vector a, and we use <code>factor()</code> to convert it into a factor. We specify custom levels and labels to map numeric values to meaningful categories. By default the levels of a factor are ordered alphabetically, being the first level the “reference” level. However you may want to use <code>relevel()</code> to change the reference level of a factor variable. It can be useful when you want to set a specific category as the reference for modelling or plotting:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="section-3.-basic-data-management.html#cb124-1" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="st">&quot;male&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>))</span>
<span id="cb124-2"><a href="section-3.-basic-data-management.html#cb124-2" tabindex="-1"></a>b</span></code></pre></div>
<pre><code>## [1] male   male   female male   female
## Levels: female male</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="section-3.-basic-data-management.html#cb126-1" tabindex="-1"></a>b2 <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="at">x=</span>b, <span class="at">ref=</span><span class="st">&quot;male&quot;</span>)</span>
<span id="cb126-2"><a href="section-3.-basic-data-management.html#cb126-2" tabindex="-1"></a>b2</span></code></pre></div>
<pre><code>## [1] male   male   female male   female
## Levels: male female</code></pre>
<p>Notice that changing the reference levels does not affect to the original vector.</p>
<p>We can also use the function <code>str()</code> to check the different data types contained in a data frame (i.e., structure). First, load ‘rdatos’ data frame.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="section-3.-basic-data-management.html#cb128-1" tabindex="-1"></a>rdatos <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;RDatosLesson2.txt&quot;</span>,<span class="at">header =</span> T,<span class="at">sep=</span><span class="st">&quot; &quot;</span>)</span>
<span id="cb128-2"><a href="section-3.-basic-data-management.html#cb128-2" tabindex="-1"></a><span class="fu">names</span>(rdatos)</span></code></pre></div>
<pre><code>##  [1] &quot;ID&quot;                       &quot;Age&quot;                     
##  [3] &quot;Gender&quot;                   &quot;Edu&quot;                     
##  [5] &quot;Systolic.Blood.Pressure&quot;  &quot;Diastolic.Blood.Pressure&quot;
##  [7] &quot;Sleep.Problems&quot;           &quot;Caregiver..&quot;             
##  [9] &quot;Anxiety&quot;                  &quot;Country&quot;</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="section-3.-basic-data-management.html#cb130-1" tabindex="-1"></a><span class="fu">dim</span>(rdatos)</span></code></pre></div>
<pre><code>## [1] 1000   10</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="section-3.-basic-data-management.html#cb132-1" tabindex="-1"></a><span class="fu">str</span>(rdatos)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1000 obs. of  10 variables:
##  $ ID                      : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ Age                     : int  53 53 63 52 58 56 57 67 72 55 ...
##  $ Gender                  : int  2 2 2 2 2 1 2 2 2 1 ...
##  $ Edu                     : int  22 11 4 13 14 11 8 12 8 15 ...
##  $ Systolic.Blood.Pressure : int  NA 100 114 96 117 116 134 137 148 88 ...
##  $ Diastolic.Blood.Pressure: int  76 63 72 64 68 64 70 72 75 64 ...
##  $ Sleep.Problems          : int  2 1 2 1 2 1 2 1 1 1 ...
##  $ Caregiver..             : int  2 1 2 1 2 1 1 1 1 1 ...
##  $ Anxiety                 : int  2 2 2 2 2 1 2 2 1 2 ...
##  $ Country                 : chr  &quot;Spain&quot; &quot;Spain&quot; &quot;Spain&quot; &quot;Spain&quot; ...</code></pre>
<p>Remember that a very convenient function for having a general idea of our data is:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="section-3.-basic-data-management.html#cb134-1" tabindex="-1"></a><span class="fu">summary</span>(rdatos)</span></code></pre></div>
<pre><code>##        ID              Age           Gender           Edu       
##  Min.   :   1.0   Min.   :40.0   Min.   :1.000   Min.   : 1.00  
##  1st Qu.: 250.8   1st Qu.:54.0   1st Qu.:1.000   1st Qu.: 8.00  
##  Median : 500.5   Median :58.0   Median :2.000   Median :10.00  
##  Mean   : 500.5   Mean   :57.9   Mean   :1.596   Mean   :10.01  
##  3rd Qu.: 750.2   3rd Qu.:61.0   3rd Qu.:2.000   3rd Qu.:12.00  
##  Max.   :1000.0   Max.   :74.0   Max.   :2.000   Max.   :22.00  
##                   NA&#39;s   :28     NA&#39;s   :22      NA&#39;s   :24     
##  Systolic.Blood.Pressure Diastolic.Blood.Pressure Sleep.Problems 
##  Min.   : 54.0           Min.   :55.00            Min.   :1.000  
##  1st Qu.:106.0           1st Qu.:66.00            1st Qu.:1.000  
##  Median :119.0           Median :70.00            Median :1.000  
##  Mean   :119.6           Mean   :69.82            Mean   :1.307  
##  3rd Qu.:132.0           3rd Qu.:73.00            3rd Qu.:2.000  
##  Max.   :186.0           Max.   :85.00            Max.   :2.000  
##  NA&#39;s   :22              NA&#39;s   :24               NA&#39;s   :20     
##   Caregiver..       Anxiety        Country         
##  Min.   :1.000   Min.   :1.000   Length:1000       
##  1st Qu.:1.000   1st Qu.:1.000   Class :character  
##  Median :1.000   Median :2.000   Mode  :character  
##  Mean   :1.399   Mean   :1.637                     
##  3rd Qu.:2.000   3rd Qu.:2.000                     
##  Max.   :2.000   Max.   :2.000                     
##  NA&#39;s   :30      NA&#39;s   :23</code></pre>
<p>As you can observe, the columns ‘ID,’ ‘Gender,’ ‘Sleep Problems,’ ‘Caregiver,’ and ‘Anxiety’ are currently represented as numeric vectors in our dataset. However, it’s important to note that these columns are essentially <a href="https://bookdown.org/carillitony/bailey/chp6.html">dummy variables</a> (with the exception of the ‘ID’ column). Dummy variables typically encode categorical information using numeric values, where each unique category corresponds to a specific number. As part of this lesson, we will explore the process of recoding dummy variables to enhance the informativeness of our dataset.</p>
</div>
<div id="subsetting-datasets" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Subsetting datasets<a href="section-3.-basic-data-management.html#subsetting-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R has powerful indexing features for accessing the elements of an object. These features can be used to select and exclude variables, observations, or both.</p>
<div id="selecting-keeping-variables" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Selecting (keeping) variables<a href="section-3.-basic-data-management.html#selecting-keeping-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>It’s a common practice to create a new dataset from a limited number of variables chosen from a larger dataset. The elements of a data frame are accessed using the notation data frame[row indices, column indices]. You can use this to select variables.</p>
<p>The statement:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="section-3.-basic-data-management.html#cb136-1" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> rdatos[, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span></code></pre></div>
<p>selects the two columns from the ‘rdatos’ data frame and saves them to ‘newdata’ data frame. Leaving the row indices blank [,] (before the comma) selects all the rows by default.</p>
<p>The statement</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="section-3.-basic-data-management.html#cb137-1" tabindex="-1"></a>myvars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;ID&quot;</span>, <span class="st">&quot;Gender&quot;</span>)</span>
<span id="cb137-2"><a href="section-3.-basic-data-management.html#cb137-2" tabindex="-1"></a>newdata <span class="ot">&lt;-</span>rdatos[myvars]</span></code></pre></div>
<p>accomplish the same variable selection. Here, variable names (in quotes) have been entered as column indices, thereby selecting the same columns.</p>
</div>
<div id="excluding-dropping-variables" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Excluding (dropping) variables<a href="section-3.-basic-data-management.html#excluding-dropping-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are many reasons to exclude variables. For example, if a variable has several missing values, you may want to drop it prior to further analyses. You could exclude variable Gender with the statement:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="section-3.-basic-data-management.html#cb138-1" tabindex="-1"></a>myvars <span class="ot">&lt;-</span> <span class="fu">names</span>(rdatos) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Gender&quot;</span>,<span class="st">&quot;Age&quot;</span>)</span>
<span id="cb138-2"><a href="section-3.-basic-data-management.html#cb138-2" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> rdatos[<span class="sc">!</span>myvars]</span></code></pre></div>
<p>Remember that we use <code>%in%</code> to create a logical vector of the columns names that match <code>Gender</code>. Then, the exclamation mark (!) is used to negate or reverse the logical values in a logical vector. In other words, it flips <code>TRUE</code> values to <code>FALSE</code> and <code>FALSE</code> values to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="section-3.-basic-data-management.html#cb139-1" tabindex="-1"></a>myvars</span></code></pre></div>
<pre><code>##  [1] FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="section-3.-basic-data-management.html#cb141-1" tabindex="-1"></a><span class="sc">!</span>myvars</span></code></pre></div>
<pre><code>##  [1]  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<p>Knowing that Gender is the 3rd variable, you could exclude it by using its index:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="section-3.-basic-data-management.html#cb143-1" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> rdatos[,<span class="sc">-</span><span class="dv">3</span>]</span></code></pre></div>
</div>
<div id="selecting-or-excluding-observations" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Selecting or excluding observations<a href="section-3.-basic-data-management.html#selecting-or-excluding-observations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Selecting or excluding observations (rows) is typically a key aspect of successful data preparation and analysis.</p>
<ul>
<li>Examples</li>
</ul>
<p>Ask for rows 1 to 3 (first three observations). Notice that after subsetting, the ‘newdata’ data frame has only 3 rows and 10 columns, since we haven’t specify anything after the comma in <code>[,]</code>.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="section-3.-basic-data-management.html#cb144-1" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> rdatos[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,] </span></code></pre></div>
</div>
<div id="conditional-selection-of-data" class="section level3 hasAnchor" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Conditional selection of data<a href="section-3.-basic-data-management.html#conditional-selection-of-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In data analysis, it’s often crucial to select specific rows from our dataset based on certain conditions. This allows us to focus on the data that is relevant to our analysis. In R, we use logical operators to create these conditions. Here are some common logical operators:</p>
<ul>
<li><code>&lt;</code>: Less than</li>
<li><code>&lt;=</code>: Less than or equal to</li>
<li><code>&gt;</code>: Greater than</li>
<li><code>&gt;=</code>: Greater than or equal to</li>
<li><code>==</code>: Equal to</li>
<li><code>!=</code>: Not equal to</li>
<li><code>!x</code>: Not x</li>
<li><code>x &amp; y</code>: x AND y</li>
<li><code>x | y</code>: x OR y</li>
</ul>
<p>For example, if we want to select individuals who are older than 55 years old:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="section-3.-basic-data-management.html#cb145-1" tabindex="-1"></a>selected_data <span class="ot">&lt;-</span> rdatos[<span class="fu">which</span>(rdatos<span class="sc">$</span>Age <span class="sc">&gt;</span> <span class="dv">55</span>),] </span></code></pre></div>
<p>In this example, the logical condition <code>rdatos$Age &gt; 55</code> produces a logical vector of <code>TRUE</code> and <code>FALSE</code> values for each row. We then use the <code>which()</code> function to identify the row indices where the condition is met (i.e., where it’s <code>TRUE</code>), and we store the selected data in a new variable.</p>
<p>You can also use logical operators to select data based on multiple conditions. For example, to select individuals who are both older than 55 and have a ‘Gender’ value of 1:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="section-3.-basic-data-management.html#cb146-1" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> rdatos[<span class="fu">which</span>(rdatos<span class="sc">$</span>Age <span class="sc">&gt;</span> <span class="dv">55</span> <span class="sc">&amp;</span> rdatos<span class="sc">$</span>Gender <span class="sc">==</span> <span class="dv">1</span>),]</span></code></pre></div>
<p>By combining logical conditions with &amp; (AND) or | (OR), you can create more complex conditions to filter and select the data that meets your analysis requirements.</p>
<div id="the-subset-function-in-r" class="section level4 hasAnchor" number="4.3.4.1">
<h4><span class="header-section-number">4.3.4.1</span> The subset() function in R<a href="section-3.-basic-data-management.html#the-subset-function-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In R, the subset() function is a versatile tool for selecting specific variables (columns) and observations (rows) from your data. It offers a simple way to filter and extract the data you need. The general format of the <code>subset()</code> function is as follows:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="section-3.-basic-data-management.html#cb147-1" tabindex="-1"></a><span class="fu">subset</span>(object, <span class="at">subset =</span> logical_expression, <span class="at">select =</span> columns)</span></code></pre></div>
<p>You can use this function to subset data frames, matrices, or vectors. Here’s a breakdown of its components:</p>
<ul>
<li><code>object</code>: The data object you want to subset.</li>
<li><code>subset</code>: The logical condition that specifies which rows to keep.</li>
<li><code>select</code>: The columns you want to select from the data.</li>
</ul>
<p>Let’s explore some practical examples to understand how the <code>subset()</code> function works.</p>
<p>Retrieve all rows where the ‘Age’ column contains values less than 70. We will keep only the ‘ID,’ ‘Age,’ and ‘Gender’ variables.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="section-3.-basic-data-management.html#cb148-1" tabindex="-1"></a>newdata1 <span class="ot">&lt;-</span> <span class="fu">subset</span>(rdatos, Age <span class="sc">&lt;</span> <span class="dv">70</span>, <span class="at">select=</span><span class="fu">c</span>(ID, Gender, Age)) </span></code></pre></div>
</div>
<div id="logical-or-operator" class="section level4 hasAnchor" number="4.3.4.2">
<h4><span class="header-section-number">4.3.4.2</span> Logical OR operator <code>|</code><a href="section-3.-basic-data-management.html#logical-or-operator" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Retrieve all rows where the ‘Age’ column contains values either lesser than or equal to 55, <strong>OR</strong> less than 70.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="section-3.-basic-data-management.html#cb149-1" tabindex="-1"></a>newdata2 <span class="ot">&lt;-</span> <span class="fu">subset</span>(rdatos, Age <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">|</span> Age <span class="sc">&lt;</span> <span class="dv">70</span>, <span class="at">select=</span><span class="fu">c</span>(ID, Gender, Age)) </span></code></pre></div>
<p>Notice that we subset exactly the same individuals by using the two expression above:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="section-3.-basic-data-management.html#cb150-1" tabindex="-1"></a><span class="fu">identical</span>(newdata1,newdata2)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>That’s because we are using the <code>|</code> operator, for which only one of the two logical values needs to be <code>TRUE</code> for the entire <code>OR</code> operation to evaluate to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="section-3.-basic-data-management.html#cb152-1" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">|</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="section-3.-basic-data-management.html#cb154-1" tabindex="-1"></a><span class="cn">FALSE</span> <span class="sc">|</span> <span class="cn">TRUE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="section-3.-basic-data-management.html#cb156-1" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">|</span> <span class="cn">TRUE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="section-3.-basic-data-management.html#cb158-1" tabindex="-1"></a><span class="cn">FALSE</span> <span class="sc">|</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>This means that we’ll only remove individuals that do not met any of the both conditions: individuals older than 70.</p>
</div>
<div id="logical-and-operator" class="section level4 hasAnchor" number="4.3.4.3">
<h4><span class="header-section-number">4.3.4.3</span> Logical AND operator <code>&amp;</code><a href="section-3.-basic-data-management.html#logical-and-operator" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now, we’ll retrieve all rows where the ‘Age’ column contains values greater than or equal to 55, <strong>AND</strong> less than 70.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="section-3.-basic-data-management.html#cb160-1" tabindex="-1"></a>newdata4 <span class="ot">&lt;-</span> <span class="fu">subset</span>(rdatos, Age <span class="sc">&gt;=</span> <span class="dv">55</span> <span class="sc">&amp;</span> Age <span class="sc">&lt;</span> <span class="dv">70</span>, <span class="at">select=</span><span class="fu">c</span>(ID, Gender, Age)) </span></code></pre></div>
<p>With the expression above, we have filtered and selected individuals who satisfy both conditions: those aged 55 or older and those younger than 70.</p>
<p>Finally, we’ll retrieve all rows where the ‘Age’ column contains values either lesser than or equal to 55, <strong>AND</strong> less than 70.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="section-3.-basic-data-management.html#cb161-1" tabindex="-1"></a>newdata5 <span class="ot">&lt;-</span> <span class="fu">subset</span>(rdatos, Age <span class="sc">&lt;=</span> <span class="dv">55</span> <span class="sc">&amp;</span> Age <span class="sc">&lt;</span> <span class="dv">70</span>, <span class="at">select=</span><span class="fu">c</span>(ID, Gender, Age)) </span></code></pre></div>
<p>With the expression above, we’ve selected individuals who satisfy both conditions. This last expression subsets the same data as the following one, as all individuals aged 55 or younger also meet the condition of being younger than 70:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="section-3.-basic-data-management.html#cb162-1" tabindex="-1"></a>newdata6 <span class="ot">&lt;-</span> <span class="fu">subset</span>(rdatos, Age <span class="sc">&lt;=</span> <span class="dv">55</span>, <span class="at">select=</span><span class="fu">c</span>(ID, Gender, Age)) </span>
<span id="cb162-2"><a href="section-3.-basic-data-management.html#cb162-2" tabindex="-1"></a></span>
<span id="cb162-3"><a href="section-3.-basic-data-management.html#cb162-3" tabindex="-1"></a><span class="fu">identical</span>(newdata5,newdata6)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
</div>
<div id="managing-missing-values" class="section level3 hasAnchor" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Managing missing values<a href="section-3.-basic-data-management.html#managing-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Data sets are likely to be incomplete because of missed questions, faulty equipment, or improperly coded data. In R, missing values are represented by the symbol <code>NA</code> (not available). Impossible values (for example, dividing by 0) are represented by the symbol <code>NaN</code> (not a number).</p>
<p><code>R</code> provides a number of functions for identifying observations that contain missing values. The function <code>is.na()</code> allows you to test for the presence of missing values.</p>
<ul>
<li>Example</li>
</ul>
<p>Assume that you have a vector:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="section-3.-basic-data-management.html#cb164-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>)</span>
<span id="cb164-2"><a href="section-3.-basic-data-management.html#cb164-2" tabindex="-1"></a><span class="fu">is.na</span>(y)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE</code></pre>
<p>then the function <code>is.na(y)</code> returns <code>c(FALSE, FALSE, FALSE, TRUE)</code>.</p>
<p>Now, we can easily count how many ‘NA’ there are in our data frame with this expression:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="section-3.-basic-data-management.html#cb166-1" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(rdatos))</span></code></pre></div>
<pre><code>##                       ID                      Age                   Gender 
##                        0                       28                       22 
##                      Edu  Systolic.Blood.Pressure Diastolic.Blood.Pressure 
##                       24                       22                       24 
##           Sleep.Problems              Caregiver..                  Anxiety 
##                       20                       30                       23 
##                  Country 
##                        0</code></pre>
<p>Once you’ve identified the missing values, you need to eliminate them in some way before analysing your data further. The reason is that arithmetic expressions and functions that contain missing values yield missing values. For example, consider the following code:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="section-3.-basic-data-management.html#cb168-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">3</span>)</span>
<span id="cb168-2"><a href="section-3.-basic-data-management.html#cb168-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> x[<span class="dv">1</span>] <span class="sc">+</span> x[<span class="dv">2</span>] <span class="sc">+</span> x[<span class="dv">3</span>] <span class="sc">+</span> x[<span class="dv">4</span>]</span>
<span id="cb168-3"><a href="section-3.-basic-data-management.html#cb168-3" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="section-3.-basic-data-management.html#cb170-1" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">sum</span>(x)</span>
<span id="cb170-2"><a href="section-3.-basic-data-management.html#cb170-2" tabindex="-1"></a>z</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>Both <code>y</code> and <code>z</code> will be <code>NA</code> (missing) because the third element of <code>x</code> is missing. Luckily, most numeric functions have a <code>na.rm=TRUE</code> option that removes missing values prior to calculations and applies the function to the remaining values:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="section-3.-basic-data-management.html#cb172-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">3</span>)</span>
<span id="cb172-2"><a href="section-3.-basic-data-management.html#cb172-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">sum</span>(x, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb172-3"><a href="section-3.-basic-data-management.html#cb172-3" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>You may also want to maintain only complete cases for further analyses…</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="section-3.-basic-data-management.html#cb174-1" tabindex="-1"></a>rdatos_noNA <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(rdatos)</span>
<span id="cb174-2"><a href="section-3.-basic-data-management.html#cb174-2" tabindex="-1"></a></span>
<span id="cb174-3"><a href="section-3.-basic-data-management.html#cb174-3" tabindex="-1"></a>rdatos_cc <span class="ot">&lt;-</span> rdatos[<span class="fu">complete.cases</span>(rdatos),]</span></code></pre></div>
<p>or only remove rows that contain NA in specific columns:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="section-3.-basic-data-management.html#cb175-1" tabindex="-1"></a>rdatos_noNA_Age <span class="ot">&lt;-</span> rdatos[<span class="fu">complete.cases</span>(rdatos[,<span class="st">&quot;Age&quot;</span>]),]</span>
<span id="cb175-2"><a href="section-3.-basic-data-management.html#cb175-2" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(rdatos))</span></code></pre></div>
<pre><code>##                       ID                      Age                   Gender 
##                        0                       28                       22 
##                      Edu  Systolic.Blood.Pressure Diastolic.Blood.Pressure 
##                       24                       22                       24 
##           Sleep.Problems              Caregiver..                  Anxiety 
##                       20                       30                       23 
##                  Country 
##                        0</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="section-3.-basic-data-management.html#cb177-1" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(rdatos_noNA_Age))</span></code></pre></div>
<pre><code>##                       ID                      Age                   Gender 
##                        0                        0                       22 
##                      Edu  Systolic.Blood.Pressure Diastolic.Blood.Pressure 
##                       24                       22                       24 
##           Sleep.Problems              Caregiver..                  Anxiety 
##                       20                       30                       23 
##                  Country 
##                        0</code></pre>
</div>
</div>
<div id="recoding-variables" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Recoding variables<a href="section-3.-basic-data-management.html#recoding-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Recoding variables involves transforming existing values of a variable based on specific conditions. This process allows us to create new categories or values, replace incorrect entries, or reformat data to better suit our analysis needs. Here are some common scenarios where recoding is useful:</p>
<p><em>Converting a continuous variable into categories for easier interpretation.
</em>Creating binary variables like “pass/fail” based on predefined cut-off scores.
*Correcting or replacing misclassified or miscoded values.</p>
<p>We can recode variables in R using various methods. Let’s explore a few examples:</p>
<div id="subsetting-and-assigning" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Subsetting and assigning<a href="section-3.-basic-data-management.html#subsetting-and-assigning" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One way to recode variables is by subsetting rows based on specific conditions and assigning new values. For instance, let’s create a new categorical column ‘Agecat’ based on the ‘Age’ column:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="section-3.-basic-data-management.html#cb179-1" tabindex="-1"></a>rdatos<span class="sc">$</span>Agecat[rdatos<span class="sc">$</span>Age <span class="sc">&gt;</span> <span class="dv">70</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Elder&quot;</span></span>
<span id="cb179-2"><a href="section-3.-basic-data-management.html#cb179-2" tabindex="-1"></a>rdatos<span class="sc">$</span>Agecat[rdatos<span class="sc">$</span>Age  <span class="sc">&gt;=</span> <span class="dv">50</span> <span class="sc">&amp;</span> rdatos<span class="sc">$</span>Age <span class="sc">&lt;=</span> <span class="dv">70</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Middle Aged&quot;</span></span>
<span id="cb179-3"><a href="section-3.-basic-data-management.html#cb179-3" tabindex="-1"></a>rdatos<span class="sc">$</span>Agecat[rdatos<span class="sc">$</span>Age <span class="sc">&lt;</span> <span class="dv">50</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Young&quot;</span></span>
<span id="cb179-4"><a href="section-3.-basic-data-management.html#cb179-4" tabindex="-1"></a><span class="fu">table</span>(rdatos<span class="sc">$</span>Agecat)</span></code></pre></div>
<pre><code>## 
##       Elder Middle Aged       Young 
##          10         912          50</code></pre>
</div>
<div id="using-the-within-function" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Using the <code>within()</code> function<a href="section-3.-basic-data-management.html#using-the-within-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>within()</code> function allows you to make multiple changes within a data frame. Here, we create ‘Agecat’ and ‘GenderRN’ columns based on conditions:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="section-3.-basic-data-management.html#cb181-1" tabindex="-1"></a>rdatos <span class="ot">&lt;-</span> <span class="fu">within</span>(rdatos,{ <span class="do">## note: curly brackets indicate several changes will be made</span></span>
<span id="cb181-2"><a href="section-3.-basic-data-management.html#cb181-2" tabindex="-1"></a>Agecat <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb181-3"><a href="section-3.-basic-data-management.html#cb181-3" tabindex="-1"></a>Agecat[Age <span class="sc">&gt;</span> <span class="dv">70</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Elder&quot;</span></span>
<span id="cb181-4"><a href="section-3.-basic-data-management.html#cb181-4" tabindex="-1"></a>Agecat[Age <span class="sc">&gt;=</span> <span class="dv">50</span> <span class="sc">&amp;</span> Age <span class="sc">&lt;=</span> <span class="dv">70</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Middle Aged&quot;</span></span>
<span id="cb181-5"><a href="section-3.-basic-data-management.html#cb181-5" tabindex="-1"></a>Agecat[Age <span class="sc">&lt;</span> <span class="dv">50</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Young&quot;</span> })</span>
<span id="cb181-6"><a href="section-3.-basic-data-management.html#cb181-6" tabindex="-1"></a><span class="fu">table</span>(rdatos<span class="sc">$</span>Agecat)</span></code></pre></div>
<pre><code>## 
##       Elder Middle Aged       Young 
##          10         912          50</code></pre>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="section-3.-basic-data-management.html#cb183-1" tabindex="-1"></a>rdatos <span class="ot">&lt;-</span> <span class="fu">within</span>(rdatos,{</span>
<span id="cb183-2"><a href="section-3.-basic-data-management.html#cb183-2" tabindex="-1"></a>  GenderRN <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb183-3"><a href="section-3.-basic-data-management.html#cb183-3" tabindex="-1"></a>  GenderRN[Gender<span class="sc">==</span><span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Female&quot;</span></span>
<span id="cb183-4"><a href="section-3.-basic-data-management.html#cb183-4" tabindex="-1"></a>  GenderRN[Gender<span class="sc">==</span><span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Male&quot;</span>})</span>
<span id="cb183-5"><a href="section-3.-basic-data-management.html#cb183-5" tabindex="-1"></a></span>
<span id="cb183-6"><a href="section-3.-basic-data-management.html#cb183-6" tabindex="-1"></a><span class="fu">head</span>(rdatos[,<span class="fu">c</span>(<span class="st">&quot;ID&quot;</span>,<span class="st">&quot;Age&quot;</span>,<span class="st">&quot;Agecat&quot;</span>,<span class="st">&quot;Gender&quot;</span>,<span class="st">&quot;GenderRN&quot;</span>)])</span></code></pre></div>
<pre><code>##   ID Age      Agecat Gender GenderRN
## 1  1  53 Middle Aged      2   Female
## 2  2  53 Middle Aged      2   Female
## 3  3  63 Middle Aged      2   Female
## 4  4  52 Middle Aged      2   Female
## 5  5  58 Middle Aged      2   Female
## 6  6  56 Middle Aged      1     Male</code></pre>
</div>
<div id="using-the-ifelse-function." class="section level3 hasAnchor" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Using the <code>ifelse()</code> function.<a href="section-3.-basic-data-management.html#using-the-ifelse-function." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>ifelse()</code> function is handy for recoding based on conditions.It allows you to create new values for a variable depending on whether a specified condition is true or false.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="section-3.-basic-data-management.html#cb185-1" tabindex="-1"></a>rdatos <span class="ot">&lt;-</span> <span class="fu">within</span>(rdatos,{</span>
<span id="cb185-2"><a href="section-3.-basic-data-management.html#cb185-2" tabindex="-1"></a>  GenderRN <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb185-3"><a href="section-3.-basic-data-management.html#cb185-3" tabindex="-1"></a>  GenderRN <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(Gender <span class="sc">==</span> <span class="dv">2</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>)</span>
<span id="cb185-4"><a href="section-3.-basic-data-management.html#cb185-4" tabindex="-1"></a>})</span></code></pre></div>
<p>If the condition <code>Gender == 2</code> is met, it assigns “Female” to ‘GenderRN’ for that observation. If the condition is not met, it assigns “Male”.</p>
<p>This method is particularly useful when you want to apply different transformations to your data based on various conditions:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="section-3.-basic-data-management.html#cb186-1" tabindex="-1"></a>rdatos <span class="ot">&lt;-</span> <span class="fu">within</span>(rdatos,{</span>
<span id="cb186-2"><a href="section-3.-basic-data-management.html#cb186-2" tabindex="-1"></a>  Agecat <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb186-3"><a href="section-3.-basic-data-management.html#cb186-3" tabindex="-1"></a>  Agecat <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(Age <span class="sc">&gt;</span> <span class="dv">70</span>, <span class="st">&quot;Elder&quot;</span>, <span class="fu">ifelse</span>(Age <span class="sc">&gt;=</span> <span class="dv">50</span> <span class="sc">&amp;</span> Age <span class="sc">&lt;=</span> <span class="dv">70</span>, <span class="st">&quot;Middle Aged&quot;</span>, <span class="st">&quot;Young&quot;</span>))</span>
<span id="cb186-4"><a href="section-3.-basic-data-management.html#cb186-4" tabindex="-1"></a>})</span></code></pre></div>
<p>The ifelse() function evaluates each condition sequentially. If the first condition is met (Age &gt; 70), it assigns “Elder” to ‘Agecat’ for that observation. If the first condition is not met, it moves to the second condition (Age &gt;= 50 &amp; Age &lt;= 70) and assigns “Middle Aged” if it’s true. If neither of the first two conditions is met, it defaults to “Young.”</p>
</div>
</div>
<div id="merging-datasets" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Merging datasets<a href="section-3.-basic-data-management.html#merging-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When your data is scattered across multiple locations or sources, it’s essential to combine them into a single dataset for comprehensive analysis. In R, you can achieve this through the process of merging datasets. Merging involves both adding columns horizontally and adding rows vertically, depending on your data integration needs.</p>
<div id="adding-columns-horizontal-merge" class="section level3 hasAnchor" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Adding columns (Horizontal merge)<a href="section-3.-basic-data-management.html#adding-columns-horizontal-merge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To merge two datasets horizontally, you can use the <code>merge()</code> function. Typically, datasets are joined using one or more common key variables that exist in both datasets. Here’s an example of how to do this:</p>
<p><strong>Example:</strong>
Suppose we have two data frames, dataframeA and dataframeB, each containing information about individuals, including an ‘ID’ variable:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="section-3.-basic-data-management.html#cb187-1" tabindex="-1"></a><span class="do">## Create dataframeA</span></span>
<span id="cb187-2"><a href="section-3.-basic-data-management.html#cb187-2" tabindex="-1"></a>dataframeA <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID=</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">100</span>,<span class="dv">1</span>), <span class="at">ID2=</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">100</span>,<span class="dv">1</span>), <span class="at">X1=</span><span class="fu">runif</span>(<span class="dv">100</span>), <span class="at">X2=</span><span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="at">Country=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Spain&quot;</span>, <span class="st">&quot;EEUU&quot;</span>, <span class="st">&quot;Iceland&quot;</span>), <span class="at">times=</span><span class="fu">c</span>(<span class="dv">50</span>,<span class="dv">25</span>,<span class="dv">25</span>)))</span>
<span id="cb187-3"><a href="section-3.-basic-data-management.html#cb187-3" tabindex="-1"></a></span>
<span id="cb187-4"><a href="section-3.-basic-data-management.html#cb187-4" tabindex="-1"></a><span class="do">## Create dataframeB</span></span>
<span id="cb187-5"><a href="section-3.-basic-data-management.html#cb187-5" tabindex="-1"></a>dataframeB <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID=</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">100</span>,<span class="dv">1</span>), <span class="at">Y1=</span><span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="at">Y2=</span><span class="fu">rnorm</span>(<span class="dv">100</span>),  <span class="at">Country=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Spain&quot;</span>, <span class="st">&quot;EEUU&quot;</span>, <span class="st">&quot;Iceland&quot;</span>), <span class="at">times=</span><span class="fu">c</span>(<span class="dv">30</span>,<span class="dv">45</span>,<span class="dv">25</span>)))</span></code></pre></div>
<p>To merge dataframeA and dataframeB based on the ‘ID’ variable:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="section-3.-basic-data-management.html#cb188-1" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="fu">merge</span>(dataframeA, dataframeB, <span class="at">by=</span><span class="st">&quot;ID&quot;</span>)</span></code></pre></div>
<p>This merges the two data frames using ‘ID’ as the common key, combining their columns horizontally. The result is stored in the total data frame.</p>
<p>You can also merge data frames using different key variables, as shown below:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="section-3.-basic-data-management.html#cb189-1" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="fu">merge</span>(dataframeA, dataframeB, <span class="at">by.x=</span><span class="st">&quot;ID2&quot;</span>, <span class="at">by.y=</span><span class="st">&quot;ID&quot;</span>)</span></code></pre></div>
<p>Additionally, you can merge data frames using multiple key variables by specifying a vector:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="section-3.-basic-data-management.html#cb190-1" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="fu">merge</span>(dataframeA, dataframeB, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;ID&quot;</span>,<span class="st">&quot;Country&quot;</span>),<span class="at">all=</span>T)</span></code></pre></div>
<p>Another method to merge datasets horizontally, particularly when you don’t need to specify a common key, is to use the <code>cbind()</code> function. This function concatenates columns from multiple data frames, combining them side by side. It’s especially useful when you want to add new variables to an existing data frame or combine data frames with different observations <strong>but matching rows</strong>.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="section-3.-basic-data-management.html#cb191-1" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="fu">cbind</span>(dataframeA, dataframeB)</span></code></pre></div>
<p>The <code>cbind()</code> function simply combines the columns of dataframeB next to the columns of dataframeA to create the total data frame. It’s important to note that the order of columns in the resulting data frame will follow the order in which you pass the data frames to <code>cbind()</code>.</p>
<p>This method is convenient when you have datasets with different variables but want to append them horizontally, such as adding new variables to an existing dataset. However, if you have a common key to join datasets based on matching rows, the <code>merge()</code> function, as explained earlier, is more appropriate.</p>
</div>
<div id="adding-rows-vertical-merge" class="section level3 hasAnchor" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Adding rows (Vertical merge)<a href="section-3.-basic-data-management.html#adding-rows-vertical-merge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vertical concatenation is typically used to add observations to a data frame. To join two data frames (datasets) vertically, use the rbind() function.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="section-3.-basic-data-management.html#cb192-1" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dataframeA, dataframeB)</span></code></pre></div>
<p>when using <code>rbind()</code> to merge data frames vertically, the columns in both data frames must have the same names to work correctly. If one data frame has columns that are missing in the other data frame, <code>rbind()</code> may produce incomplete results. For example:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="section-3.-basic-data-management.html#cb193-1" tabindex="-1"></a><span class="co"># Create dataframeA</span></span>
<span id="cb193-2"><a href="section-3.-basic-data-management.html#cb193-2" tabindex="-1"></a>dataframeA <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">Name =</span> <span class="fu">c</span>(<span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Charlie&quot;</span>))</span>
<span id="cb193-3"><a href="section-3.-basic-data-management.html#cb193-3" tabindex="-1"></a></span>
<span id="cb193-4"><a href="section-3.-basic-data-management.html#cb193-4" tabindex="-1"></a><span class="co"># Create dataframeB with an additional column</span></span>
<span id="cb193-5"><a href="section-3.-basic-data-management.html#cb193-5" tabindex="-1"></a>dataframeB <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">Age =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">22</span>))</span>
<span id="cb193-6"><a href="section-3.-basic-data-management.html#cb193-6" tabindex="-1"></a></span>
<span id="cb193-7"><a href="section-3.-basic-data-management.html#cb193-7" tabindex="-1"></a><span class="co"># Attempt to merge using rbind()</span></span>
<span id="cb193-8"><a href="section-3.-basic-data-management.html#cb193-8" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dataframeA, dataframeB)</span></code></pre></div>
<p>If the data types of columns with the same name differ between the data frames, <code>rbind()</code> may coerce them into a common data type. This can lead to data loss or unexpected behaviour. For example:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="section-3.-basic-data-management.html#cb194-1" tabindex="-1"></a><span class="co"># Create dataframeA with character ID</span></span>
<span id="cb194-2"><a href="section-3.-basic-data-management.html#cb194-2" tabindex="-1"></a>dataframeA <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>), <span class="at">Name =</span> <span class="fu">c</span>(<span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Charlie&quot;</span>))</span>
<span id="cb194-3"><a href="section-3.-basic-data-management.html#cb194-3" tabindex="-1"></a></span>
<span id="cb194-4"><a href="section-3.-basic-data-management.html#cb194-4" tabindex="-1"></a><span class="co"># Create dataframeB with numeric ID</span></span>
<span id="cb194-5"><a href="section-3.-basic-data-management.html#cb194-5" tabindex="-1"></a>dataframeB <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">Name =</span> <span class="fu">c</span>(<span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Charlie&quot;</span>))</span>
<span id="cb194-6"><a href="section-3.-basic-data-management.html#cb194-6" tabindex="-1"></a></span>
<span id="cb194-7"><a href="section-3.-basic-data-management.html#cb194-7" tabindex="-1"></a><span class="co"># Attempt to merge using rbind()</span></span>
<span id="cb194-8"><a href="section-3.-basic-data-management.html#cb194-8" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dataframeA, dataframeB)</span></code></pre></div>
</div>
</div>
<div id="sorting-data" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> Sorting data<a href="section-3.-basic-data-management.html#sorting-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sometimes, arranging your dataset in a specific order can reveal valuable insights. In R, you can easily sort a data frame using the order() function. Sorting allows you to explore your data in an organized and informative manner.</p>
<div id="sorting-by-a-single-variable" class="section level3 hasAnchor" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Sorting by a single variable<a href="section-3.-basic-data-management.html#sorting-by-a-single-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can start by sorting your data frame based on one variable. Here’s an example:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="section-3.-basic-data-management.html#cb195-1" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> rdatos[<span class="fu">order</span>(rdatos<span class="sc">$</span>Age),]</span></code></pre></div>
<p>creates a new dataset containing rows sorted from youngest to oldest.</p>
</div>
<div id="sorting-alphabetically" class="section level3 hasAnchor" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Sorting alphabetically<a href="section-3.-basic-data-management.html#sorting-alphabetically" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can also arrange your data alphabetically based on a categorical variable like ‘Country’:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="section-3.-basic-data-management.html#cb196-1" tabindex="-1"></a><span class="fu">table</span>(rdatos<span class="sc">$</span>Country)</span></code></pre></div>
<pre><code>## 
## France  Italy  Spain 
##    250    250    500</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="section-3.-basic-data-management.html#cb198-1" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> rdatos[<span class="fu">order</span>(rdatos<span class="sc">$</span>Country),]</span></code></pre></div>
</div>
<div id="sorting-by-multiple-variables" class="section level3 hasAnchor" number="4.6.3">
<h3><span class="header-section-number">4.6.3</span> Sorting by multiple variables<a href="section-3.-basic-data-management.html#sorting-by-multiple-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This code sorts the rows first alphabetically by ‘Country’ and then within each country by ‘Age,’ providing a comprehensive view of your dataset.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="section-3.-basic-data-management.html#cb199-1" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> rdatos[<span class="fu">order</span>(rdatos<span class="sc">$</span>Country, rdatos<span class="sc">$</span>Age),]</span>
<span id="cb199-2"><a href="section-3.-basic-data-management.html#cb199-2" tabindex="-1"></a></span>
<span id="cb199-3"><a href="section-3.-basic-data-management.html#cb199-3" tabindex="-1"></a><span class="fu">head</span>(newdata[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">10</span>)], <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##      ID Age Country
## 725 725  43  France
## 559 559  47  France
## 583 583  47  France
## 629 629  47  France
## 641 641  49  France
## 675 675  49  France
## 706 706  49  France
## 731 731  49  France
## 630 630  50  France
## 698 698  50  France</code></pre>
<p>This code sorts the data by ‘Age’ in ascending order and then, within each age group, by ‘Gender.’</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="section-3.-basic-data-management.html#cb201-1" tabindex="-1"></a>newdata <span class="ot">&lt;-</span>rdatos[<span class="fu">order</span>(rdatos<span class="sc">$</span>Age, rdatos<span class="sc">$</span>Gender),]</span>
<span id="cb201-2"><a href="section-3.-basic-data-management.html#cb201-2" tabindex="-1"></a><span class="fu">head</span>(newdata[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)], <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##      ID Age Gender
## 38   38  40      1
## 725 725  43      1
## 485 485  44      1
## 761 761  44      1
## 324 324  44      2
## 246 246  45      2
## 23   23  46      1
## 895 895  46      1
## 220 220  46      2
## 376 376  46      2</code></pre>
</div>
</div>
<div id="regular-expressions-and-pattern-matching-and-replacement" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> Regular expressions and pattern matching and replacement<a href="section-3.-basic-data-management.html#regular-expressions-and-pattern-matching-and-replacement" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Regular expressions, often referred to as <code>regex</code> or <code>regexp</code>, are sequence of characters that defines a search pattern and are powerful tools for pattern matching and text manipulation. In R, you can use regular expressions to search, extract, and manipulate text data. Let’s dive into the basics of regular expressions in R. Regular expressions are defined using a combination of characters and <strong>special symbols</strong>.</p>
<div id="basic-functions-to-detect-patterns-in-r" class="section level3 hasAnchor" number="4.7.1">
<h3><span class="header-section-number">4.7.1</span> Basic functions to detect patterns in R<a href="section-3.-basic-data-management.html#basic-functions-to-detect-patterns-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R provides several functions for working with regular expressions, including:</p>
<ul>
<li><code>grep(pattern, x, value = FALSE, ignore.case = FALSE)</code>: Search for a pattern in a character vector or text. It returns a vector of the <strong>indeces</strong> of the element that yielded a match. To return the value of the element that yielded a match, set <code>value =T</code>. For non-case-sensitive matching set <code>ignore.case = TRUE</code>.</li>
<li><code>grepl(pattern, x)</code>: Check if a pattern exists in a character vector or text. It returns a vector of <strong>logical values</strong> (match or not for each element of the vector).</li>
</ul>
<p>Here are some examples for the use of <code>grep()</code> and <code>grepl()</code>:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="section-3.-basic-data-management.html#cb203-1" tabindex="-1"></a>intro <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2025/26&quot;</span>,<span class="st">&quot;Lesson 2&quot;</span>, <span class="st">&quot;Importance of the use of regular expressions in R&quot;</span>,<span class="st">&quot;4&quot;</span>,<span class="st">&quot;Omics&quot;</span>,<span class="st">&quot;&quot;</span>,<span class="st">&quot;exprress&quot;</span>)</span></code></pre></div>
<p>Notice <code>grep</code> returns the indices of the elements contained in the vector ‘intro’ that match the pattern.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="section-3.-basic-data-management.html#cb204-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;2&quot;</span>,intro)</span></code></pre></div>
<pre><code>## [1] 1 2</code></pre>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="section-3.-basic-data-management.html#cb206-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;2&quot;</span>,intro, <span class="at">value=</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;2025/26&quot;  &quot;Lesson 2&quot;</code></pre>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="section-3.-basic-data-management.html#cb208-1" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;2&quot;</span>,intro)</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="section-3.-basic-data-management.html#cb210-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;4&quot;</span>,intro)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="section-3.-basic-data-management.html#cb212-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;4&quot;</span>,intro,<span class="at">value=</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;4&quot;</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="section-3.-basic-data-management.html#cb214-1" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;4&quot;</span>,intro)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE FALSE FALSE FALSE</code></pre>
<ul>
<li><code>sub(pattern, replacement, x)</code>: Replace the first occurrence of a pattern (inside each one of the elements of the vector) with another string.</li>
</ul>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="section-3.-basic-data-management.html#cb216-1" tabindex="-1"></a>new <span class="ot">&lt;-</span> <span class="fu">sub</span>(<span class="st">&quot;2&quot;</span>,<span class="st">&quot;2.&quot;</span>,intro)</span>
<span id="cb216-2"><a href="section-3.-basic-data-management.html#cb216-2" tabindex="-1"></a>new</span></code></pre></div>
<pre><code>## [1] &quot;2.025/26&quot;                                         
## [2] &quot;Lesson 2.&quot;                                        
## [3] &quot;Importance of the use of regular expressions in R&quot;
## [4] &quot;4&quot;                                                
## [5] &quot;Omics&quot;                                            
## [6] &quot;&quot;                                                 
## [7] &quot;exprress&quot;</code></pre>
<ul>
<li><code>gsub(pattern, replacement, x)</code>: Replace all occurrences of a pattern with another string.</li>
</ul>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="section-3.-basic-data-management.html#cb218-1" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;2&quot;</span>,<span class="st">&quot;2.&quot;</span>,intro)</span></code></pre></div>
<pre><code>## [1] &quot;2.02.5/2.6&quot;                                       
## [2] &quot;Lesson 2.&quot;                                        
## [3] &quot;Importance of the use of regular expressions in R&quot;
## [4] &quot;4&quot;                                                
## [5] &quot;Omics&quot;                                            
## [6] &quot;&quot;                                                 
## [7] &quot;exprress&quot;</code></pre>
</div>
<div id="special-symbols" class="section level3 hasAnchor" number="4.7.2">
<h3><span class="header-section-number">4.7.2</span> Special symbols<a href="section-3.-basic-data-management.html#special-symbols" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here are some commonly used special symbols and their meanings:</p>
<ul>
<li><code>.</code>: Matches any single character element. Thus, we have a problem if we want to look for “.” inside my character strings…</li>
</ul>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="section-3.-basic-data-management.html#cb220-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;.&quot;</span>, new, <span class="at">value =</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;2.025/26&quot;                                         
## [2] &quot;Lesson 2.&quot;                                        
## [3] &quot;Importance of the use of regular expressions in R&quot;
## [4] &quot;4&quot;                                                
## [5] &quot;Omics&quot;                                            
## [6] &quot;exprress&quot;</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="section-3.-basic-data-management.html#cb222-1" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;.&quot;</span>, new)</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE</code></pre>
<p><em>Notice that <code>.</code> does not match the sixth element of the vector.</em></p>
<p>Since <code>.</code> is a special symbol, for searching or replacing “.” within a character string, you should use “\.”:</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="section-3.-basic-data-management.html#cb224-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>,new,<span class="at">value=</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;2.025/26&quot;  &quot;Lesson 2.&quot;</code></pre>
<p>You can keep in blank the <code>replacement</code> argument in order to remove a pattern with <code>gsub(pattern, replacement, x)</code>:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="section-3.-basic-data-management.html#cb226-1" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>,<span class="at">replacement =</span> <span class="st">&quot;&quot;</span>,<span class="at">x =</span> new)</span></code></pre></div>
<pre><code>## [1] &quot;2025/26&quot;                                          
## [2] &quot;Lesson 2&quot;                                         
## [3] &quot;Importance of the use of regular expressions in R&quot;
## [4] &quot;4&quot;                                                
## [5] &quot;Omics&quot;                                            
## [6] &quot;&quot;                                                 
## [7] &quot;exprress&quot;</code></pre>
<ul>
<li><code>*</code>: Matches zero or more occurrences of the preceding character or pattern.</li>
</ul>
<p>For instance, the regular expression <code>pp*</code> can be divided in two: ‘p’ that will match the character <code>p</code> and <code>p*</code> that will match zero or more occurrences of ‘p’.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="section-3.-basic-data-management.html#cb228-1" tabindex="-1"></a>repe <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;appl&quot;</span>, <span class="st">&quot;appppl&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;bppple&quot;</span>, <span class="st">&quot;aple&quot;</span>)</span>
<span id="cb228-2"><a href="section-3.-basic-data-management.html#cb228-2" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;pp*&quot;</span>,repe, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;apple&quot;  &quot;appl&quot;   &quot;appppl&quot; &quot;bppple&quot; &quot;aple&quot;</code></pre>
<p>In contrast, the regular expression <code>p*</code> will match zero or more occurrences of ‘p’. That is, <em>everything</em>.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="section-3.-basic-data-management.html#cb230-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;p*&quot;</span>, repe, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;apple&quot;  &quot;appl&quot;   &quot;appppl&quot; &quot;banana&quot; &quot;bppple&quot; &quot;aple&quot;</code></pre>
<p>In other words:</p>
<ul>
<li><p><code>p*</code>: means zero or more <code>p</code> in a row.</p></li>
<li><p><code>pp*</code>: means one <code>p</code> followed by zero or more <code>p</code>.</p></li>
<li><p><code>+</code>: Matches one or more occurrences of the preceding character or pattern.</p></li>
</ul>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="section-3.-basic-data-management.html#cb232-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;pp+&quot;</span>,repe, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;apple&quot;  &quot;appl&quot;   &quot;appppl&quot; &quot;bppple&quot;</code></pre>
<p>That is, <code>pp+</code> matches any substring with at least two consecutive <code>p</code>.</p>
<ul>
<li><code>?</code>: Matches zero or one occurrence of the preceding character or pattern.</li>
</ul>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="section-3.-basic-data-management.html#cb234-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;r?ess&quot;</span>,new, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Lesson 2.&quot;                                        
## [2] &quot;Importance of the use of regular expressions in R&quot;
## [3] &quot;exprress&quot;</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="section-3.-basic-data-management.html#cb236-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;r+ess&quot;</span>,new, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Importance of the use of regular expressions in R&quot;
## [2] &quot;exprress&quot;</code></pre>
<ul>
<li><code>^</code>matches the start of a line and <code>$</code> matches the end of a line.</li>
</ul>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="section-3.-basic-data-management.html#cb238-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;i&quot;</span>,intro,<span class="at">value =</span> T,<span class="at">ignore.case =</span> T)</span></code></pre></div>
<pre><code>## [1] &quot;Importance of the use of regular expressions in R&quot;
## [2] &quot;Omics&quot;</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="section-3.-basic-data-management.html#cb240-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;^i&quot;</span>,intro,<span class="at">value =</span> T,<span class="at">ignore.case =</span> T)</span></code></pre></div>
<pre><code>## [1] &quot;Importance of the use of regular expressions in R&quot;</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="section-3.-basic-data-management.html#cb242-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>,new,<span class="at">value=</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;2.025/26&quot;  &quot;Lesson 2.&quot;</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="section-3.-basic-data-management.html#cb244-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.$&quot;</span>,new,<span class="at">value=</span> T)</span></code></pre></div>
<pre><code>## [1] &quot;Lesson 2.&quot;</code></pre>
<ul>
<li><code>[]</code>: Matches any one character within the brackets.</li>
</ul>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="section-3.-basic-data-management.html#cb246-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;[0-9]&quot;</span>,new,<span class="at">value =</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;2.025/26&quot;  &quot;Lesson 2.&quot; &quot;4&quot;</code></pre>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="section-3.-basic-data-management.html#cb248-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;[a-c]&quot;</span>,new,<span class="at">value =</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;Importance of the use of regular expressions in R&quot;
## [2] &quot;Omics&quot;</code></pre>
<p>Example: searching full stops that are preceded by digits or slash preceded by digits.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="section-3.-basic-data-management.html#cb250-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;[0-9]</span><span class="sc">\\</span><span class="st">.&quot;</span>,new,<span class="at">value=</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;2.025/26&quot;  &quot;Lesson 2.&quot;</code></pre>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="section-3.-basic-data-management.html#cb252-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;([0-9]*/)&quot;</span>,new,<span class="at">value =</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;2.025/26&quot;</code></pre>
<ul>
<li><code>[^]</code>: Matches any one character NOT within the brackets.</li>
</ul>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="section-3.-basic-data-management.html#cb254-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;[^0-9]&quot;</span>,new,<span class="at">value =</span>T)</span></code></pre></div>
<pre><code>## [1] &quot;2.025/26&quot;                                         
## [2] &quot;Lesson 2.&quot;                                        
## [3] &quot;Importance of the use of regular expressions in R&quot;
## [4] &quot;Omics&quot;                                            
## [5] &quot;exprress&quot;</code></pre>
<ul>
<li>Special symbols can be combined to create a regular patterns for efficient pattern matching in R.</li>
</ul>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="section-3.-basic-data-management.html#cb256-1" tabindex="-1"></a>examples <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;appl&quot;</span>, <span class="st">&quot;appppl&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;bppple&quot;</span>,</span>
<span id="cb256-2"><a href="section-3.-basic-data-management.html#cb256-2" tabindex="-1"></a>              <span class="st">&quot;ress&quot;</span>, <span class="st">&quot;rress&quot;</span>, <span class="st">&quot;rrress&quot;</span>, <span class="st">&quot;ess&quot;</span>,</span>
<span id="cb256-3"><a href="section-3.-basic-data-management.html#cb256-3" tabindex="-1"></a>              <span class="st">&quot;data.csv&quot;</span>, <span class="st">&quot;report.doc&quot;</span>, <span class="st">&quot;my.file.txt&quot;</span>)</span>
<span id="cb256-4"><a href="section-3.-basic-data-management.html#cb256-4" tabindex="-1"></a></span>
<span id="cb256-5"><a href="section-3.-basic-data-management.html#cb256-5" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;^r+e.s+p*&quot;</span>, examples, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;ress&quot;   &quot;rress&quot;  &quot;rrress&quot;</code></pre>
<p>Let’s understand each element of the pattern:
- <code>^</code>: the word should start with the following pattern
- <code>r+</code>: one or more <code>r</code>
- <code>e</code>: letter <code>e</code>
- <code>.</code>: any character
- <code>s+</code>: one or more <code>s</code>
- <code>p*</code>: zero or more <code>p</code></p>
</div>
<div id="basic-functions-to-locate-patterns-in-r" class="section level3 hasAnchor" number="4.7.3">
<h3><span class="header-section-number">4.7.3</span> Basic functions to locate patterns in R<a href="section-3.-basic-data-management.html#basic-functions-to-locate-patterns-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are other functions that help us to locate a specific pattern inside a character string by specifying the <em>start</em> and <em>end</em> positions of your pattern in a given string.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="section-3.-basic-data-management.html#cb258-1" tabindex="-1"></a>text <span class="ot">&lt;-</span>  <span class="st">&quot;Alejandra, Berta, Alex, Carles, Joan, Alexander&quot;</span></span>
<span id="cb258-2"><a href="section-3.-basic-data-management.html#cb258-2" tabindex="-1"></a><span class="fu">regexpr</span>(<span class="at">pattern =</span> <span class="st">&quot;Ale&quot;</span>, <span class="at">text =</span> text) <span class="do">## first occurrence of the pattern</span></span></code></pre></div>
<pre><code>## [1] 1
## attr(,&quot;match.length&quot;)
## [1] 3
## attr(,&quot;index.type&quot;)
## [1] &quot;chars&quot;
## attr(,&quot;useBytes&quot;)
## [1] TRUE</code></pre>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="section-3.-basic-data-management.html#cb260-1" tabindex="-1"></a><span class="fu">gregexpr</span>(<span class="at">pattern =</span> <span class="st">&quot;Ale&quot;</span>, <span class="at">text =</span> text) <span class="do">## detect several occurrences </span></span></code></pre></div>
<pre><code>## [[1]]
## [1]  1 19 39
## attr(,&quot;match.length&quot;)
## [1] 3 3 3
## attr(,&quot;index.type&quot;)
## [1] &quot;chars&quot;
## attr(,&quot;useBytes&quot;)
## [1] TRUE</code></pre>
<p>The package ‘stringr’ provide efficient functions for the more common string manipulations in R.</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="section-3.-basic-data-management.html#cb262-1" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb262-2"><a href="section-3.-basic-data-management.html#cb262-2" tabindex="-1"></a></span>
<span id="cb262-3"><a href="section-3.-basic-data-management.html#cb262-3" tabindex="-1"></a><span class="fu">str_locate</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;Ale&quot;</span>)</span></code></pre></div>
<pre><code>##      start end
## [1,]     1   3</code></pre>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="section-3.-basic-data-management.html#cb264-1" tabindex="-1"></a><span class="fu">str_locate_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;Ale&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
##      start end
## [1,]     1   3
## [2,]    19  21
## [3,]    39  41</code></pre>
</div>
<div id="split-a-string-using-a-pattern" class="section level3 hasAnchor" number="4.7.4">
<h3><span class="header-section-number">4.7.4</span> Split a string using a pattern<a href="section-3.-basic-data-management.html#split-a-string-using-a-pattern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>str_split</code> function from the ‘stringr’ package is very convenient for renaming and recoding variables. It returns a list of the split strings. If you want to access to each piece of string use the <code>unlist()</code> to create a character vector.</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="section-3.-basic-data-management.html#cb266-1" tabindex="-1"></a>text</span></code></pre></div>
<pre><code>## [1] &quot;Alejandra, Berta, Alex, Carles, Joan, Alexander&quot;</code></pre>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="section-3.-basic-data-management.html#cb268-1" tabindex="-1"></a>split_list <span class="ot">&lt;-</span> <span class="fu">str_split</span>(<span class="at">string =</span> text , <span class="at">pattern =</span> <span class="st">&quot;, &quot;</span>)</span>
<span id="cb268-2"><a href="section-3.-basic-data-management.html#cb268-2" tabindex="-1"></a>split_list[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] &quot;Alejandra&quot; &quot;Berta&quot;     &quot;Alex&quot;      &quot;Carles&quot;    &quot;Joan&quot;      &quot;Alexander&quot;</code></pre>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="section-3.-basic-data-management.html#cb270-1" tabindex="-1"></a><span class="fu">unlist</span>(split_list)[[<span class="dv">2</span>]]</span></code></pre></div>
<pre><code>## [1] &quot;Berta&quot;</code></pre>
</div>
</div>
<div id="exercises-data-management-optional" class="section level2 hasAnchor" number="4.8">
<h2><span class="header-section-number">4.8</span> Exercises Data Management (Optional)<a href="section-3.-basic-data-management.html#exercises-data-management-optional" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Read file <code>example.txt</code> and store it in a data frame called “example”</li>
<li>Show rows 5,11,18 and 20 in data “example”</li>
<li>Show variable “sex” for rows from 15 to 50 in data “example”</li>
<li>Change the name of the “cc” column to “Case/Control” in data “example”<br />
</li>
<li>Export “example” to a “csv” semicolon delimited file without the names of the rows and without quotations</li>
<li>Retrieve the forth element in vector <code>x=(3, -1, 0, 2, -5, 7, 1)</code></li>
<li>Retrieve the first, second and fifth elements in vector <code>x=(3, -1, 0, 2, -5, 7, 1)</code></li>
<li>Retrieve all the elements in vector <code>x=(3, -1, 0, 2, -5, 7, 1)</code> except the second one</li>
<li>Change the value of the first and second elements in <code>x=(3, -1, 0, 2, -5, 7, 1)</code> by 0<br />
</li>
<li>Assign the value 0 to the elements in <code>x=(3, -1, 0, 2, -5, 7, 1)</code> that are larger than 2<br />
</li>
<li>Create a matrix <code>M</code> with 4 rows and 3 columns and fill it by rows with even numbers from 2 to 24</li>
<li>Obtain the number of rows and columns of matrix <code>M</code></li>
<li>Retrieve the element in the first row and third column of matrix <code>M</code></li>
<li>Retrieve all the elements in the third column of matrix <code>M</code></li>
<li>Retrieve the third and forth elements in the second column of matrix <code>M</code></li>
<li>Retrieve a matrix containing all files in <code>M</code> except the first one</li>
<li>Add a new column at the beginning of matrix <code>M</code> with the integers from 1 to 4</li>
<li>Add a row at the end of matrix <code>M</code> with values 2, 4, 8</li>
<li>Generate a data frame called <code>chol</code> (for cholesterol) containing the following variables (columns):
<code>id=(1, 2, 3, 4, 5)</code>, <code>gender=(1, 1, 2, 1, 2)</code>, <code>LDL=(237, 256, 198, 287, 212)</code></li>
<li>In the previous data frame <code>chol</code> use the function <code>rownames()</code> to assign to each row the name of the patient: John, Peter, Hellen, Mat and Mary</li>
<li>Show the first 3 rows in data frame <code>chol</code></li>
<li>Retrieve the LDL cholesterol levels of Peter using his position in the data frame</li>
<li>Retrieve the LDL cholesterol levels of Peter using his name in the code</li>
<li>Save the LDL cholesterol levels of the 5 individuals in a new vector called <code>ldl_chol</code></li>
<li>Create a new data frame named <code>chol_high</code> including only those individuals with LDL levels above 240</li>
<li>Let’s consider the vector <code>x=(0.6, -1.3, 0.98, -0.4, 0.16)</code> and perform a <code>t.test</code> on <code>x</code> for the null hypothesis that the mean is equal to 0 and save the output in an object called <code>ttestx</code></li>
<li>Show the attributes of object <code>ttestx</code></li>
<li>From the output of <code>ttestx</code> retrieve the confidence interval of the mean</li>
<li>Check the data type of gender in data frame <code>chol</code></li>
<li>Transform variable <code>gender</code> from data frame <code>chol</code> into a factor variable called <code>gender1</code> with 1=male and 2=female and with males as the reference group:</li>
<li>Transform variable <code>gender</code> from data frame <code>chol</code> into a factor variable called <code>gender2</code> with <code>1=male</code> and <code>2=female</code> and with females as the reference group:</li>
<li>Write the data frame <code>chol</code> into a text file called <code>cholesterol.txt</code></li>
<li>Write the data frame <code>chol</code> into a csv file called <code>cholesterol.csv</code></li>
<li>Write the code to install and load the R package `readxl`` from CRAN</li>
<li>Get a numerical summary of <code>x=(1.5, 2.3, 4, 5.6, 2.1)</code></li>
<li>Obtain the 40% percentile of <code>x=(1.5, 2.3, 4, 5.6, 2.1)</code></li>
<li>Obtain the percentages of males and females in <code>gender=(1, 1, 2, 1, 2)</code></li>
<li>Obtain the Pearson and Spearman correlation coefficient between <code>x=1:10</code> and <code>y=x^2</code></li>
<li>Test for the equality of variances in LDL cholesterol levels between males and females, assuming that LDL levels are normally distributed</li>
<li>Test for differences in LDL cholesterol mean levels between males and females, assuming that LDL levels are normally distributed</li>
<li>Test for differences in LDL cholesterol mean levels between males and females, without the assumption of normallity</li>
</ol>
<hr />
<p><img src="logouvic.png" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="section-2.-introduction-to-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="section-4.-introduction-to-functions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
