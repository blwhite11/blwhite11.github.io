<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 SECTION 6. Tips for efficient programming | curso-R</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.44 and GitBook 2.6.7" />

  <meta property="og:title" content="7 SECTION 6. Tips for efficient programming | curso-R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 SECTION 6. Tips for efficient programming | curso-R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="section-5.-basic-plots.html"/>
<link rel="next" href="section-7.-introduction-to-object-oriented-programming-oop.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#description-of-the-r-programming-block"><i class="fa fa-check"></i><b>1.1</b> Description of the R programming block</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#contents-of-the-r-programming-block"><i class="fa fa-check"></i><b>1.2</b> Contents of the R programming block</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#evaluation"><i class="fa fa-check"></i><b>1.3</b> Evaluation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html"><i class="fa fa-check"></i><b>2</b> SECTION 1. Errors you may find in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html#installing-r"><i class="fa fa-check"></i><b>2.1</b> Installing R</a></li>
<li class="chapter" data-level="2.2" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html#loading-packages"><i class="fa fa-check"></i><b>2.2</b> Loading packages</a></li>
<li class="chapter" data-level="2.3" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html#defining-directories"><i class="fa fa-check"></i><b>2.3</b> Defining directories</a></li>
<li class="chapter" data-level="2.4" data-path="section-1.-errors-you-may-find-in-r.html"><a href="section-1.-errors-you-may-find-in-r.html#resources-you-have"><i class="fa fa-check"></i><b>2.4</b> Resources you have</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html"><i class="fa fa-check"></i><b>3</b> SECTION 2. Introduction to R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#why-r"><i class="fa fa-check"></i><b>3.1</b> Why R?</a></li>
<li class="chapter" data-level="3.2" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#creating-a-new-project-directory-in-rstudio"><i class="fa fa-check"></i><b>3.2</b> Creating a new project directory in RStudio</a></li>
<li class="chapter" data-level="3.3" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#rstudio-interface"><i class="fa fa-check"></i><b>3.3</b> RStudio Interface</a></li>
<li class="chapter" data-level="3.4" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#organizing-your-working-directory-setting-up"><i class="fa fa-check"></i><b>3.4</b> Organizing your working directory &amp; setting up</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#viewing-your-working-directory"><i class="fa fa-check"></i><b>3.4.1</b> Viewing your working directory</a></li>
<li class="chapter" data-level="3.4.2" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#console-command-prompt"><i class="fa fa-check"></i><b>3.4.2</b> Console command prompt</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#simple-computations-with-r"><i class="fa fa-check"></i><b>3.5</b> Simple computations with R</a></li>
<li class="chapter" data-level="3.6" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#math-functions"><i class="fa fa-check"></i><b>3.6</b> Math functions</a></li>
<li class="chapter" data-level="3.7" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#variable-assignment"><i class="fa fa-check"></i><b>3.7</b> Variable Assignment</a></li>
<li class="chapter" data-level="3.8" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#data-types"><i class="fa fa-check"></i><b>3.8</b> Data types</a></li>
<li class="chapter" data-level="3.9" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#create-new-data"><i class="fa fa-check"></i><b>3.9</b> Create new data</a></li>
<li class="chapter" data-level="3.10" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#structures"><i class="fa fa-check"></i><b>3.10</b> Structures</a></li>
<li class="chapter" data-level="3.11" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#the-environment"><i class="fa fa-check"></i><b>3.11</b> The environment</a></li>
<li class="chapter" data-level="3.12" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#using-scripts"><i class="fa fa-check"></i><b>3.12</b> Using scripts</a></li>
<li class="chapter" data-level="3.13" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#r-basic-base-functions"><i class="fa fa-check"></i><b>3.13</b> R basic base functions</a></li>
<li class="chapter" data-level="3.14" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#reading-and-writing-data-files"><i class="fa fa-check"></i><b>3.14</b> Reading and writing data files</a></li>
<li class="chapter" data-level="3.15" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#librariespackages"><i class="fa fa-check"></i><b>3.15</b> Libraries/Packages</a>
<ul>
<li class="chapter" data-level="3.15.1" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#install-packages-from-cran"><i class="fa fa-check"></i><b>3.15.1</b> Install packages from CRAN</a></li>
<li class="chapter" data-level="3.15.2" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#install-packages-from-github"><i class="fa fa-check"></i><b>3.15.2</b> Install packages from GitHub</a></li>
</ul></li>
<li class="chapter" data-level="3.16" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#help-and-documentation"><i class="fa fa-check"></i><b>3.16</b> Help and documentation</a></li>
<li class="chapter" data-level="3.17" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#interesting-references"><i class="fa fa-check"></i><b>3.17</b> Interesting references:</a></li>
<li class="chapter" data-level="3.18" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#exercises"><i class="fa fa-check"></i><b>3.18</b> Exercises</a>
<ul>
<li class="chapter" data-level="3.18.1" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#part-i"><i class="fa fa-check"></i><b>3.18.1</b> Part I</a></li>
<li class="chapter" data-level="3.18.2" data-path="section-2.-introduction-to-r.html"><a href="section-2.-introduction-to-r.html#part-ii"><i class="fa fa-check"></i><b>3.18.2</b> Part II</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html"><i class="fa fa-check"></i><b>4</b> SECTION 3. Basic data management</a>
<ul>
<li class="chapter" data-level="4.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#accessing-information-and-creating-new-variables"><i class="fa fa-check"></i><b>4.1</b> Accessing information and creating new variables</a></li>
<li class="chapter" data-level="4.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#data-types-and-data-conversions"><i class="fa fa-check"></i><b>4.2</b> Data types and data conversions</a></li>
<li class="chapter" data-level="4.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#subsetting-datasets"><i class="fa fa-check"></i><b>4.3</b> Subsetting datasets</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#selecting-keeping-variables"><i class="fa fa-check"></i><b>4.3.1</b> Selecting (keeping) variables</a></li>
<li class="chapter" data-level="4.3.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#excluding-dropping-variables"><i class="fa fa-check"></i><b>4.3.2</b> Excluding (dropping) variables</a></li>
<li class="chapter" data-level="4.3.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#selecting-or-excluding-observations"><i class="fa fa-check"></i><b>4.3.3</b> Selecting or excluding observations</a></li>
<li class="chapter" data-level="4.3.4" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#conditional-selection-of-data"><i class="fa fa-check"></i><b>4.3.4</b> Conditional selection of data</a></li>
<li class="chapter" data-level="4.3.5" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#managing-missing-values"><i class="fa fa-check"></i><b>4.3.5</b> Managing missing values</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#recoding-variables"><i class="fa fa-check"></i><b>4.4</b> Recoding variables</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#subsetting-and-assigning"><i class="fa fa-check"></i><b>4.4.1</b> Subsetting and assigning</a></li>
<li class="chapter" data-level="4.4.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#using-the-within-function"><i class="fa fa-check"></i><b>4.4.2</b> Using the <code>within()</code> function</a></li>
<li class="chapter" data-level="4.4.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#using-the-ifelse-function."><i class="fa fa-check"></i><b>4.4.3</b> Using the <code>ifelse()</code> function.</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#merging-datasets"><i class="fa fa-check"></i><b>4.5</b> Merging datasets</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#adding-columns-horizontal-merge"><i class="fa fa-check"></i><b>4.5.1</b> Adding columns (Horizontal merge)</a></li>
<li class="chapter" data-level="4.5.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#adding-rows-vertical-merge"><i class="fa fa-check"></i><b>4.5.2</b> Adding rows (Vertical merge)</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#sorting-data"><i class="fa fa-check"></i><b>4.6</b> Sorting data</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#sorting-by-a-single-variable"><i class="fa fa-check"></i><b>4.6.1</b> Sorting by a single variable</a></li>
<li class="chapter" data-level="4.6.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#sorting-alphabetically"><i class="fa fa-check"></i><b>4.6.2</b> Sorting alphabetically</a></li>
<li class="chapter" data-level="4.6.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#sorting-by-multiple-variables"><i class="fa fa-check"></i><b>4.6.3</b> Sorting by multiple variables</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#regular-expressions-and-pattern-matching-and-replacement"><i class="fa fa-check"></i><b>4.7</b> Regular expressions and pattern matching and replacement</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#basic-functions-to-detect-patterns-in-r"><i class="fa fa-check"></i><b>4.7.1</b> Basic functions to detect patterns in R</a></li>
<li class="chapter" data-level="4.7.2" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#special-symbols"><i class="fa fa-check"></i><b>4.7.2</b> Special symbols</a></li>
<li class="chapter" data-level="4.7.3" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#basic-functions-to-locate-patterns-in-r"><i class="fa fa-check"></i><b>4.7.3</b> Basic functions to locate patterns in R</a></li>
<li class="chapter" data-level="4.7.4" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#split-a-string-using-a-pattern"><i class="fa fa-check"></i><b>4.7.4</b> Split a string using a pattern</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="section-3.-basic-data-management.html"><a href="section-3.-basic-data-management.html#exercises-data-management-optional"><i class="fa fa-check"></i><b>4.8</b> Exercises Data Management (Optional)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html"><i class="fa fa-check"></i><b>5</b> SECTION 4. Introduction to Functions</a>
<ul>
<li class="chapter" data-level="5.1" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#what-is-a-function"><i class="fa fa-check"></i><b>5.1</b> What is a function?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#built-in-r-functions"><i class="fa fa-check"></i><b>5.1.1</b> Built-in R functions</a></li>
<li class="chapter" data-level="5.1.2" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#functions-defined-in-r-packages"><i class="fa fa-check"></i><b>5.1.2</b> Functions defined in R packages</a></li>
<li class="chapter" data-level="5.1.3" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#user-defined-functions"><i class="fa fa-check"></i><b>5.1.3</b> User-defined functions</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#writing-your-own-functions"><i class="fa fa-check"></i><b>5.2</b> Writing your own functions</a></li>
<li class="chapter" data-level="5.3" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#arguments-of-a-function"><i class="fa fa-check"></i><b>5.3</b> Arguments of a function</a></li>
<li class="chapter" data-level="5.4" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#matching-arguments"><i class="fa fa-check"></i><b>5.4</b> Matching Arguments</a></li>
<li class="chapter" data-level="5.5" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#output-of-a-function"><i class="fa fa-check"></i><b>5.5</b> Output of a Function</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#examples-of-functions"><i class="fa fa-check"></i><b>5.5.1</b> Examples of functions</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#basic-r-programming"><i class="fa fa-check"></i><b>5.6</b> Basic R Programming</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#conditionals"><i class="fa fa-check"></i><b>5.6.1</b> Conditionals</a></li>
<li class="chapter" data-level="5.6.2" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#loops"><i class="fa fa-check"></i><b>5.6.2</b> Loops</a></li>
<li class="chapter" data-level="5.6.3" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#useful-functions-to-avoid-loops"><i class="fa fa-check"></i><b>5.6.3</b> Useful functions to avoid loops</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="section-4.-introduction-to-functions.html"><a href="section-4.-introduction-to-functions.html#references"><i class="fa fa-check"></i><b>5.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html"><i class="fa fa-check"></i><b>6</b> SECTION 5. Basic Plots</a>
<ul>
<li class="chapter" data-level="6.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#line-charts"><i class="fa fa-check"></i><b>6.1</b> Line charts</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics"><i class="fa fa-check"></i><b>6.1.1</b> Key Characteristics:</a></li>
<li class="chapter" data-level="6.1.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#use-cases"><i class="fa fa-check"></i><b>6.1.2</b> Use Cases:</a></li>
<li class="chapter" data-level="6.1.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customization-options"><i class="fa fa-check"></i><b>6.1.3</b> Customization Options:</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#dot-plot"><i class="fa fa-check"></i><b>6.2</b> Dot plot</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics-1"><i class="fa fa-check"></i><b>6.2.1</b> Key characteristics</a></li>
<li class="chapter" data-level="6.2.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#use-cases-1"><i class="fa fa-check"></i><b>6.2.2</b> Use cases</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#bar-charts"><i class="fa fa-check"></i><b>6.3</b> Bar charts</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics-2"><i class="fa fa-check"></i><b>6.3.1</b> Key characteristics</a></li>
<li class="chapter" data-level="6.3.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customization"><i class="fa fa-check"></i><b>6.3.2</b> Customization</a></li>
<li class="chapter" data-level="6.3.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#multiple-bar-plots"><i class="fa fa-check"></i><b>6.3.3</b> Multiple bar plots</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#histograms"><i class="fa fa-check"></i><b>6.4</b> Histograms</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics-3"><i class="fa fa-check"></i><b>6.4.1</b> Key characteristics</a></li>
<li class="chapter" data-level="6.4.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customization-1"><i class="fa fa-check"></i><b>6.4.2</b> Customization</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#boxplot"><i class="fa fa-check"></i><b>6.5</b> Boxplot</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#key-characteristics-4"><i class="fa fa-check"></i><b>6.5.1</b> Key characteristics</a></li>
<li class="chapter" data-level="6.5.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#use-cases-2"><i class="fa fa-check"></i><b>6.5.2</b> Use cases</a></li>
<li class="chapter" data-level="6.5.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customization-options-1"><i class="fa fa-check"></i><b>6.5.3</b> Customization options</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#commbining-different-plots"><i class="fa fa-check"></i><b>6.6</b> Commbining different plots</a></li>
<li class="chapter" data-level="6.7" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#scatter-plots"><i class="fa fa-check"></i><b>6.7</b> Scatter Plots</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#creating-a-simple-scatter-plot"><i class="fa fa-check"></i><b>6.7.1</b> Creating a Simple Scatter Plot</a></li>
<li class="chapter" data-level="6.7.2" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#add-new-data-to-an-existint-plot"><i class="fa fa-check"></i><b>6.7.2</b> Add new data to an existint plot</a></li>
<li class="chapter" data-level="6.7.3" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#adding-labels-to-data-points"><i class="fa fa-check"></i><b>6.7.3</b> Adding labels to data points</a></li>
<li class="chapter" data-level="6.7.4" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#using-legends"><i class="fa fa-check"></i><b>6.7.4</b> Using legends</a></li>
<li class="chapter" data-level="6.7.5" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#customizing-scatter-plots"><i class="fa fa-check"></i><b>6.7.5</b> Customizing Scatter plots</a></li>
<li class="chapter" data-level="6.7.6" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#multiple-scatter-plots"><i class="fa fa-check"></i><b>6.7.6</b> Multiple scatter plots</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#important-graphical-functions-and-parameters"><i class="fa fa-check"></i><b>6.8</b> Important graphical functions and parameters</a></li>
<li class="chapter" data-level="6.9" data-path="section-5.-basic-plots.html"><a href="section-5.-basic-plots.html#saving-graphics-to-files"><i class="fa fa-check"></i><b>6.9</b> Saving Graphics to Files</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html"><i class="fa fa-check"></i><b>7</b> SECTION 6. Tips for efficient programming</a>
<ul>
<li class="chapter" data-level="7.1" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#top-tips-for-efficient-programming"><i class="fa fa-check"></i><b>7.1</b> Top tips for efficient programming</a></li>
<li class="chapter" data-level="7.2" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#optimizing-functions-calls"><i class="fa fa-check"></i><b>7.2</b> Optimizing functions calls</a></li>
<li class="chapter" data-level="7.3" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#memory-allocation"><i class="fa fa-check"></i><b>7.3</b> Memory allocation</a></li>
<li class="chapter" data-level="7.4" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#embrace-rs-vectorized-paradigm"><i class="fa fa-check"></i><b>7.4</b> Embrace R’s vectorized paradigm</a></li>
<li class="chapter" data-level="7.5" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#efficient-functions-do-as-little-as-possible"><i class="fa fa-check"></i><b>7.5</b> Efficient functions: Do as little as possible</a></li>
<li class="chapter" data-level="7.6" data-path="section-6.-tips-for-efficient-programming.html"><a href="section-6.-tips-for-efficient-programming.html#references-1"><i class="fa fa-check"></i><b>7.6</b> References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html"><i class="fa fa-check"></i><b>8</b> SECTION 7. Introduction to Object-oriented Programming (OOP)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#object-and-class-in-r"><i class="fa fa-check"></i><b>8.1</b> Object and Class in R</a></li>
<li class="chapter" data-level="8.2" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#s3-classes"><i class="fa fa-check"></i><b>8.2</b> S3 Classes</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#methods-and-generic-functions-in-s3-classes"><i class="fa fa-check"></i><b>8.2.1</b> Methods and Generic Functions in S3 classes:</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#s4-classes"><i class="fa fa-check"></i><b>8.3</b> S4 classes</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="section-7.-introduction-to-object-oriented-programming-oop.html"><a href="section-7.-introduction-to-object-oriented-programming-oop.html#methods-and-generic-functions-in-s4-classes"><i class="fa fa-check"></i><b>8.3.1</b> Methods and Generic Functions in S4 classes:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html"><i class="fa fa-check"></i><b>9</b> SECTION 8. Dynamic Reports</a>
<ul>
<li class="chapter" data-level="9.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#what-is-latex"><i class="fa fa-check"></i><b>9.1</b> What is LATEX?</a></li>
<li class="chapter" data-level="9.2" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#what-is-sweave"><i class="fa fa-check"></i><b>9.2</b> What is Sweave?</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#how-to-install-sweave"><i class="fa fa-check"></i><b>9.2.1</b> How to install Sweave</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#basic-options-for-code-chunks"><i class="fa fa-check"></i><b>9.3</b> Basic options for code chunks</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#for-costly-computations-cachesweave-package"><i class="fa fa-check"></i><b>9.3.1</b> For costly computations: <code>cacheSweave</code> package</a></li>
<li class="chapter" data-level="9.3.2" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#example"><i class="fa fa-check"></i><b>9.3.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#the-beamer-class-latex-presentations"><i class="fa fa-check"></i><b>9.4</b> The Beamer class: LATEX presentations</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#table-of-contents"><i class="fa fa-check"></i><b>9.4.1</b> Table of Contents</a></li>
<li class="chapter" data-level="9.4.2" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#sections-and-subsections"><i class="fa fa-check"></i><b>9.4.2</b> Sections and Subsections</a></li>
<li class="chapter" data-level="9.4.3" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#frames-and-structures"><i class="fa fa-check"></i><b>9.4.3</b> Frames and structures:</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#knitr-package"><i class="fa fa-check"></i><b>9.5</b> <code>Knitr</code> package</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#knitr-main-outputs"><i class="fa fa-check"></i><b>9.5.1</b> <code>Knitr</code> main outputs</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#r-markdown"><i class="fa fa-check"></i><b>9.6</b> R Markdown</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#installation"><i class="fa fa-check"></i><b>9.6.1</b> Installation</a></li>
<li class="chapter" data-level="9.6.2" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#output-formats"><i class="fa fa-check"></i><b>9.6.2</b> Output Formats</a></li>
<li class="chapter" data-level="9.6.3" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#output-format-functions"><i class="fa fa-check"></i><b>9.6.3</b> Output Format Functions</a></li>
<li class="chapter" data-level="9.6.4" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#chunk-options"><i class="fa fa-check"></i><b>9.6.4</b> Chunk Options</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#shiny"><i class="fa fa-check"></i><b>9.7</b> Shiny</a></li>
<li class="chapter" data-level="9.8" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#quarto"><i class="fa fa-check"></i><b>9.8</b> Quarto</a></li>
<li class="chapter" data-level="9.9" data-path="section-8.-dynamic-reports.html"><a href="section-8.-dynamic-reports.html#available-templates-for-each-block"><i class="fa fa-check"></i><b>9.9</b> Available templates for each block</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html"><i class="fa fa-check"></i><b>10</b> SECTION 9. Data managment using the dplyr package</a>
<ul>
<li class="chapter" data-level="10.1" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#the-filter-function-and-the-use-of-comparison-operators"><i class="fa fa-check"></i><b>10.1</b> The <code>filter()</code> function and the use of comparison operators</a></li>
<li class="chapter" data-level="10.2" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#sorting-with-arrange"><i class="fa fa-check"></i><b>10.2</b> Sorting with <code>arrange()</code></a></li>
<li class="chapter" data-level="10.3" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#accessing-rows-with-slice"><i class="fa fa-check"></i><b>10.3</b> Accessing rows with <code>slice()</code></a></li>
<li class="chapter" data-level="10.4" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#picking-columns-out-with-select"><i class="fa fa-check"></i><b>10.4</b> Picking columns out with <code>select()</code></a></li>
<li class="chapter" data-level="10.5" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#change-names-with-rename"><i class="fa fa-check"></i><b>10.5</b> Change names with <code>rename()</code></a></li>
<li class="chapter" data-level="10.6" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#transforming-pre-existing-columns-or-creating-new-ones-with-mutate"><i class="fa fa-check"></i><b>10.6</b> Transforming pre-existing columns or creating new ones with <code>mutate()</code></a></li>
<li class="chapter" data-level="10.7" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#to-sum-upgroup_by-summarise"><i class="fa fa-check"></i><b>10.7</b> To sum up…<code>group_by()</code> + <code>summarise()</code></a></li>
<li class="chapter" data-level="10.8" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#data-reshaping-and-cleaning-using-the-tidyr-package"><i class="fa fa-check"></i><b>10.8</b> Data reshaping and cleaning using the tidyr package</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#transforming-wide-to-long-format-with-pivot_longer"><i class="fa fa-check"></i><b>10.8.1</b> Transforming wide to long format with <code>pivot_longer()</code>:</a></li>
<li class="chapter" data-level="10.8.2" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#transforming-long-to-wide-format-with-pivot_wider"><i class="fa fa-check"></i><b>10.8.2</b> Transforming long to wide format with <code>pivot_wider()</code>:</a></li>
<li class="chapter" data-level="10.8.3" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#handling-missing-values-with-replace_na"><i class="fa fa-check"></i><b>10.8.3</b> Handling missing values with <code>replace_na()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#gt-and-gtsummary-packages"><i class="fa fa-check"></i><b>10.9</b> Gt and gtsummary packages</a>
<ul>
<li class="chapter" data-level="10.9.1" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#basic-summary-table-with-tbl_summary"><i class="fa fa-check"></i><b>10.9.1</b> Basic Summary Table with <code>tbl_summary()</code></a></li>
<li class="chapter" data-level="10.9.2" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#adding-statistical-tests-with-add_p"><i class="fa fa-check"></i><b>10.9.2</b> Adding statistical tests with <code>add_p()</code></a></li>
<li class="chapter" data-level="10.9.3" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#stratified-tables-with-tbl_strata"><i class="fa fa-check"></i><b>10.9.3</b> Stratified Tables with <code>tbl_strata()</code></a></li>
<li class="chapter" data-level="10.9.4" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#creating-cross-tables-with-tbl_cross"><i class="fa fa-check"></i><b>10.9.4</b> Creating Cross Tables with <code>tbl_cross()</code></a></li>
<li class="chapter" data-level="10.9.5" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#regression-table-with-tbl_regression"><i class="fa fa-check"></i><b>10.9.5</b> Regression table with <code>tbl_regression()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.10" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#exercises-1"><i class="fa fa-check"></i><b>10.10</b> Exercises</a>
<ul>
<li class="chapter" data-level="10.10.1" data-path="section-9.-data-managment-using-the-dplyr-package.html"><a href="section-9.-data-managment-using-the-dplyr-package.html#extra-exercises"><i class="fa fa-check"></i><b>10.10.1</b> Extra exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html"><i class="fa fa-check"></i><b>11</b> SECTION 10. Advanced Data Visualization: ggplot2 package</a>
<ul>
<li class="chapter" data-level="11.1" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#why-ggplot2"><i class="fa fa-check"></i><b>11.1</b> Why ggplot2?</a></li>
<li class="chapter" data-level="11.2" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#installation-1"><i class="fa fa-check"></i><b>11.2</b> Installation</a></li>
<li class="chapter" data-level="11.3" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#usage"><i class="fa fa-check"></i><b>11.3</b> Usage</a></li>
<li class="chapter" data-level="11.4" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#geometric-objects-and-aesthetics"><i class="fa fa-check"></i><b>11.4</b> Geometric Objects And Aesthetics</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#aesthetic-mapping"><i class="fa fa-check"></i><b>11.4.1</b> Aesthetic Mapping</a></li>
<li class="chapter" data-level="11.4.2" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#geometic-objects-geom"><i class="fa fa-check"></i><b>11.4.2</b> Geometic Objects (geom)</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#examples"><i class="fa fa-check"></i><b>11.5</b> Examples</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#categorical-variables"><i class="fa fa-check"></i><b>11.5.1</b> Categorical Variables</a></li>
<li class="chapter" data-level="11.5.2" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#quantitative-variables"><i class="fa fa-check"></i><b>11.5.2</b> Quantitative Variables</a></li>
<li class="chapter" data-level="11.5.3" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#more-advanced-code-customizing-your-plots"><i class="fa fa-check"></i><b>11.5.3</b> More advanced code: customizing your plots</a></li>
<li class="chapter" data-level="11.5.4" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#saving-plots"><i class="fa fa-check"></i><b>11.5.4</b> Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="section-10.-advanced-data-visualization-ggplot2-package.html"><a href="section-10.-advanced-data-visualization-ggplot2-package.html#exercises-create-new-plots-for-genetic-data-visualization-using-the-snpdataset.txt-dataset.-create-a-report-in-.html-format-and-display-and-describe-each-one-of-the-plots."><i class="fa fa-check"></i><b>11.6</b> Exercises: Create new plots for genetic data visualization using the <code>SNPdataset.txt</code> dataset. Create a report in .html format and display and describe each one of the plots.</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html"><i class="fa fa-check"></i><b>12</b> SECTION 11. Advanced Data Visualization: Extra Part</a>
<ul>
<li class="chapter" data-level="12.1" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#useful-plots-for-omics-data-analysis"><i class="fa fa-check"></i><b>12.1</b> Useful plots for Omics Data Analysis</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#heatmap"><i class="fa fa-check"></i><b>12.1.1</b> Heatmap</a></li>
<li class="chapter" data-level="12.1.2" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#venn-diagram"><i class="fa fa-check"></i><b>12.1.2</b> Venn Diagram</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#other-resources-in-r"><i class="fa fa-check"></i><b>12.2</b> Other resources in R</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#advanced-visualizations-with-ggpubr"><i class="fa fa-check"></i><b>12.2.1</b> Advanced visualizations with ggpubr</a></li>
<li class="chapter" data-level="12.2.2" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#dynamic-plots-with-gganimate"><i class="fa fa-check"></i><b>12.2.2</b> Dynamic plots with gganimate</a></li>
<li class="chapter" data-level="12.2.3" data-path="section-11.-advanced-data-visualization-extra-part.html"><a href="section-11.-advanced-data-visualization-extra-part.html#interactive-interfaces-for-creating-plots"><i class="fa fa-check"></i><b>12.2.3</b> Interactive interfaces for creating plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html"><i class="fa fa-check"></i><b>13</b> SECTION 12. Introduction to Shiny</a>
<ul>
<li class="chapter" data-level="13.1" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#writing-a-shiny-application-in-r"><i class="fa fa-check"></i><b>13.1</b> Writing a Shiny Application in R</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#ui-layout"><i class="fa fa-check"></i><b>13.1.1</b> UI Layout</a></li>
<li class="chapter" data-level="13.1.2" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#server-logic"><i class="fa fa-check"></i><b>13.1.2</b> Server Logic</a></li>
<li class="chapter" data-level="13.1.3" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#examples-1"><i class="fa fa-check"></i><b>13.1.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#elements-for-a-shiny-app"><i class="fa fa-check"></i><b>13.2</b> Elements for a Shiny App</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#ui-components"><i class="fa fa-check"></i><b>13.2.1</b> UI Components</a></li>
<li class="chapter" data-level="13.2.2" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#server-function"><i class="fa fa-check"></i><b>13.2.2</b> Server function</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#working-with-shinydashboard"><i class="fa fa-check"></i><b>13.3</b> Working with ShinyDashboard</a></li>
<li class="chapter" data-level="13.4" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#deploying-the-application-to-shinyapps.io"><i class="fa fa-check"></i><b>13.4</b> Deploying the Application to Shinyapps.io</a></li>
<li class="chapter" data-level="13.5" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#take-home"><i class="fa fa-check"></i><b>13.5</b> Take home</a></li>
<li class="chapter" data-level="13.6" data-path="section-12.-introduction-to-shiny.html"><a href="section-12.-introduction-to-shiny.html#final-task"><i class="fa fa-check"></i><b>13.6</b> Final Task</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-6.-tips-for-efficient-programming" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">7</span> SECTION 6. Tips for efficient programming<a href="section-6.-tips-for-efficient-programming.html#section-6.-tips-for-efficient-programming" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>A major benefit of using R (as opposed to other programming languages), is that coding time is greatly reduced. However if we are not careful, it’s very easy to write programs that are incredibly slow. While optimization such as going parallel can easily double speed, poor code can easily run 100s of times slower. For this reason a priority of an efficient programmer should be to avoid the following common mistakes. If you spend any time programming in R, this <a href="https://csgillespie.github.io/efficientR/index.html">book</a> should be considered essential reading.</p>
<div id="top-tips-for-efficient-programming" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Top tips for efficient programming<a href="section-6.-tips-for-efficient-programming.html#top-tips-for-efficient-programming" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s explore some fundamental strategies to optimize the efficiency of your R code:</p>
<p><em>1.</em> Vectorization:</p>
<p>Tip: Leverage vectorized operations for faster and more concise code.</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="section-6.-tips-for-efficient-programming.html#cb410-1" tabindex="-1"></a>result_vectorized <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<p><em>2.</em> Avoid growing vectors:</p>
<p>Tip: Preallocate memory for vectors to avoid unnecessary copying and enhance performance.</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="section-6.-tips-for-efficient-programming.html#cb411-1" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">10</span>)</span>
<span id="cb411-2"><a href="section-6.-tips-for-efficient-programming.html#cb411-2" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb411-3"><a href="section-6.-tips-for-efficient-programming.html#cb411-3" tabindex="-1"></a>  result[i] <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb411-4"><a href="section-6.-tips-for-efficient-programming.html#cb411-4" tabindex="-1"></a>}</span></code></pre></div>
<p><em>3.</em> Use apply functions instead of loops:</p>
<p>Tip: Replace explicit loops with apply functions for improved readability and efficiency.</p>
<p><em>4.</em> Explore other packages (reutilize others work!!):</p>
<p>Tip: Investigate specialized packages like <code>data.table</code>, <code>tidyverse</code>, and <code>dplyr</code> for optimized data manipulation.</p>
<p><em>5.</em> Utilize helpful tools:</p>
<p>Tip: Employ tools such as <code>microbenchmark</code>, <code>compiler</code>, and <code>memoise</code> for benchmarking, code compilation, and caching, respectively. Use <code>rm(list=ls())</code> to empty your working environment, <code>rm(list=setdiff(ls(), "x"))</code> to remove everything except “x” and <code>gc()</code> for garbage collection and free up memory.</p>
</div>
<div id="optimizing-functions-calls" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Optimizing functions calls<a href="section-6.-tips-for-efficient-programming.html#optimizing-functions-calls" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Efficient R programming involves tapping into underlying C/Fortran routines swiftly. Every R function call eventually triggers corresponding C/Fortran code. For instance, the base R function <code>runif()</code> is essentially a call to <code>C_runif()</code>.</p>
<p>Consider the following illustration using a standard R vector x of length n:</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="section-6.-tips-for-efficient-programming.html#cb412-1" tabindex="-1"></a>x<span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb412-2"><a href="section-6.-tips-for-efficient-programming.html#cb412-2" tabindex="-1"></a>x <span class="ot">=</span> x <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<p>In this example, a single function call to the <code>+</code> function efficiently handles the vector operation. Conversely, using a loop involves multiple function calls for each element, resulting in slower performance due to the cumulative effect of numerous calls.</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="section-6.-tips-for-efficient-programming.html#cb413-1" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb413-2"><a href="section-6.-tips-for-efficient-programming.html#cb413-2" tabindex="-1"></a>  x[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> <span class="dv">1</span> </span>
<span id="cb413-3"><a href="section-6.-tips-for-efficient-programming.html#cb413-3" tabindex="-1"></a>}</span></code></pre></div>
<p>While the individual function calls in the loop are quick, the aggregate effect of multiple calls can significantly impact performance. Therefore, minimizing function calls and embracing vectorized operations contribute to a more efficient and faster execution of R code.</p>
</div>
<div id="memory-allocation" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Memory allocation<a href="section-6.-tips-for-efficient-programming.html#memory-allocation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>An essential aspect of writing efficient R code is prudent memory allocation. Pre-allocating memory, in particular, stands out as a crucial practice. Let’s delve into three methods of creating a sequence of numbers and compare their performance.</p>
<ul>
<li>Method 1: Dynamic growth</li>
</ul>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="section-6.-tips-for-efficient-programming.html#cb414-1" tabindex="-1"></a>method1 <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb414-2"><a href="section-6.-tips-for-efficient-programming.html#cb414-2" tabindex="-1"></a>  myvec <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb414-3"><a href="section-6.-tips-for-efficient-programming.html#cb414-3" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb414-4"><a href="section-6.-tips-for-efficient-programming.html#cb414-4" tabindex="-1"></a>    myvec <span class="ot">&lt;-</span> <span class="fu">c</span>(myvec, i)</span>
<span id="cb414-5"><a href="section-6.-tips-for-efficient-programming.html#cb414-5" tabindex="-1"></a>  }</span>
<span id="cb414-6"><a href="section-6.-tips-for-efficient-programming.html#cb414-6" tabindex="-1"></a>  <span class="fu">return</span>(myvec)</span>
<span id="cb414-7"><a href="section-6.-tips-for-efficient-programming.html#cb414-7" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li>Method 2: Pre-allocation with subscripting</li>
</ul>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="section-6.-tips-for-efficient-programming.html#cb415-1" tabindex="-1"></a>method2 <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb415-2"><a href="section-6.-tips-for-efficient-programming.html#cb415-2" tabindex="-1"></a>  myvec <span class="ot">&lt;-</span> <span class="fu">numeric</span>(n) </span>
<span id="cb415-3"><a href="section-6.-tips-for-efficient-programming.html#cb415-3" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb415-4"><a href="section-6.-tips-for-efficient-programming.html#cb415-4" tabindex="-1"></a>    myvec[i] <span class="ot">&lt;-</span> i</span>
<span id="cb415-5"><a href="section-6.-tips-for-efficient-programming.html#cb415-5" tabindex="-1"></a>  }</span>
<span id="cb415-6"><a href="section-6.-tips-for-efficient-programming.html#cb415-6" tabindex="-1"></a>  <span class="fu">return</span>(myvec)</span>
<span id="cb415-7"><a href="section-6.-tips-for-efficient-programming.html#cb415-7" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li>Method 3: Direct creation of the final object</li>
</ul>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="section-6.-tips-for-efficient-programming.html#cb416-1" tabindex="-1"></a>method3 <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb416-2"><a href="section-6.-tips-for-efficient-programming.html#cb416-2" tabindex="-1"></a>  myvec <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>n</span>
<span id="cb416-3"><a href="section-6.-tips-for-efficient-programming.html#cb416-3" tabindex="-1"></a>  <span class="fu">return</span>(myvec)</span>
<span id="cb416-4"><a href="section-6.-tips-for-efficient-programming.html#cb416-4" tabindex="-1"></a>}</span></code></pre></div>
<p>To compare the three methods we use the <code>microbenchmark</code> function from the previous chapter</p>
<p>By adopting memory-efficient practices, such as pre-allocating vectors (or direct creation of the final object), you can significantly enhance the performance of your R code, especially when dealing with large datasets or extensive computations.</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="section-6.-tips-for-efficient-programming.html#cb417-1" tabindex="-1"></a>n <span class="ot">=</span> <span class="dv">10000</span></span>
<span id="cb417-2"><a href="section-6.-tips-for-efficient-programming.html#cb417-2" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">microbenchmark</span>(<span class="fu">method1</span>(n), <span class="fu">method2</span>(n), <span class="fu">method3</span>(n))) <span class="do">## time in nanoseconds</span></span></code></pre></div>
<pre><code>##         expr       min        lq      mean    median        uq       max neval
## 1 method1(n) 232753900 263588050 288764919 286238350 305927700 411932900   100
## 2 method2(n)    466900    572300    776491    610050    852050   8090700   100
## 3 method3(n)       500      1200     36579      5550     11300   2955900   100
##   cld
## 1  a 
## 2   b
## 3   b</code></pre>
<p>In the output you can see different columns:</p>
<p><em>expr:</em> names of the expressions being benchmarked</p>
<p><em>min:</em> minimum execution time over <code>times</code> evaluations</p>
<p><em>lq:</em> lower quartile (Q1-25th percentile) of execution time, i.e., 25% of executions took this time or less</p>
<p><em>mean:</em> average time over <code>times</code> evaluations</p>
<p><em>median:</em> median time (50th percentile) of execution time</p>
<p><em>uq:</em> upper quartile (Q3-75th percentile) of execution time, i.e., 75% of executions took this time or less</p>
<p><em>max:</em> maximum execution time over <code>times</code> evaluations</p>
<p><em>neval:</em> number of evaluations</p>
<p><em>cld:</em> compact letter display tells you which methods are statistically significant different based on performance. Methods in group <code>a</code> are significantly slower than methods in group <code>b</code></p>
</div>
<div id="embrace-rs-vectorized-paradigm" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Embrace R’s vectorized paradigm<a href="section-6.-tips-for-efficient-programming.html#embrace-rs-vectorized-paradigm" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Consider the following examples to illustrate the shift towards a more vectorized approach. For example:</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="section-6.-tips-for-efficient-programming.html#cb419-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1000</span>) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb419-2"><a href="section-6.-tips-for-efficient-programming.html#cb419-2" tabindex="-1"></a>logsum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb419-3"><a href="section-6.-tips-for-efficient-programming.html#cb419-3" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb419-4"><a href="section-6.-tips-for-efficient-programming.html#cb419-4" tabindex="-1"></a>  logsum <span class="ot">&lt;-</span> logsum <span class="sc">+</span> <span class="fu">log</span>(x[i]) </span>
<span id="cb419-5"><a href="section-6.-tips-for-efficient-programming.html#cb419-5" tabindex="-1"></a>}</span></code></pre></div>
<p>is a piece R code that has a strong, unhealthy influence from C. Instead we should write</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="section-6.-tips-for-efficient-programming.html#cb420-1" tabindex="-1"></a>logsum <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">log</span>(x))</span></code></pre></div>
<p>The vectorized approach is not only more concise but also faster, taking full advantage of R’s strengths.</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="section-6.-tips-for-efficient-programming.html#cb421-1" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">microbenchmark</span>(</span>
<span id="cb421-2"><a href="section-6.-tips-for-efficient-programming.html#cb421-2" tabindex="-1"></a>  <span class="at">loop_approach =</span> {</span>
<span id="cb421-3"><a href="section-6.-tips-for-efficient-programming.html#cb421-3" tabindex="-1"></a>    logsum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb421-4"><a href="section-6.-tips-for-efficient-programming.html#cb421-4" tabindex="-1"></a>    <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb421-5"><a href="section-6.-tips-for-efficient-programming.html#cb421-5" tabindex="-1"></a>      logsum <span class="ot">&lt;-</span> logsum <span class="sc">+</span> <span class="fu">log</span>(x[i])</span>
<span id="cb421-6"><a href="section-6.-tips-for-efficient-programming.html#cb421-6" tabindex="-1"></a>    }</span>
<span id="cb421-7"><a href="section-6.-tips-for-efficient-programming.html#cb421-7" tabindex="-1"></a>  },</span>
<span id="cb421-8"><a href="section-6.-tips-for-efficient-programming.html#cb421-8" tabindex="-1"></a>  <span class="at">vectorized_approach =</span> {</span>
<span id="cb421-9"><a href="section-6.-tips-for-efficient-programming.html#cb421-9" tabindex="-1"></a>    logsum <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">log</span>(x))</span>
<span id="cb421-10"><a href="section-6.-tips-for-efficient-programming.html#cb421-10" tabindex="-1"></a>  }</span>
<span id="cb421-11"><a href="section-6.-tips-for-efficient-programming.html#cb421-11" tabindex="-1"></a>))</span></code></pre></div>
<pre><code>##                  expr    min     lq     mean  median      uq    max neval cld
## 1       loop_approach 2641.5 2806.7 3464.519 3003.85 3753.25 9843.0   100  a 
## 2 vectorized_approach   35.7   38.0   41.766   41.80   43.65   51.6   100   b</code></pre>
<p>Another common example is sub-setting a vector.</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="section-6.-tips-for-efficient-programming.html#cb423-1" tabindex="-1"></a>ans <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb423-2"><a href="section-6.-tips-for-efficient-programming.html#cb423-2" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb423-3"><a href="section-6.-tips-for-efficient-programming.html#cb423-3" tabindex="-1"></a>  <span class="cf">if</span>(x[i] <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb423-4"><a href="section-6.-tips-for-efficient-programming.html#cb423-4" tabindex="-1"></a>    ans <span class="ot">&lt;-</span> <span class="fu">c</span>(ans, x[i])</span>
<span id="cb423-5"><a href="section-6.-tips-for-efficient-programming.html#cb423-5" tabindex="-1"></a>  }</span>
<span id="cb423-6"><a href="section-6.-tips-for-efficient-programming.html#cb423-6" tabindex="-1"></a>}</span></code></pre></div>
<p>This can be done simply with:</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="section-6.-tips-for-efficient-programming.html#cb424-1" tabindex="-1"></a>ans <span class="ot">&lt;-</span> x[x <span class="sc">&lt;</span> <span class="dv">0</span>]</span></code></pre></div>
</div>
<div id="efficient-functions-do-as-little-as-possible" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Efficient functions: Do as little as possible<a href="section-6.-tips-for-efficient-programming.html#efficient-functions-do-as-little-as-possible" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Improving the efficiency of your functions often boils down to making them do less work. Here are some strategies and examples to optimize your functions:</p>
<p><em>1.</em> Use specific vectorized functions:</p>
<p>Functions like <code>rowSums()</code>, <code>colSums()</code>, <code>rowMeans()</code>, and <code>colMeans()</code> outperform equivalent operations using <code>apply()</code> because they are inherently vectorized.</p>
<p>Example:</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="section-6.-tips-for-efficient-programming.html#cb425-1" tabindex="-1"></a>matrix_data <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">ncol =</span> <span class="dv">5</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb425-2"><a href="section-6.-tips-for-efficient-programming.html#cb425-2" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">microbenchmark</span>(<span class="fu">rowSums</span>(matrix_data),<span class="fu">apply</span>(matrix_data, <span class="dv">1</span>, sum)))</span></code></pre></div>
<pre><code>##                         expr  min   lq   mean median   uq   max neval cld
## 1       rowSums(matrix_data)  4.1  5.2  8.514    7.4  8.5  79.8   100  a 
## 2 apply(matrix_data, 1, sum) 23.7 27.9 38.921   40.3 44.0 111.7   100   b</code></pre>
<p><em>2.</em> Choose appropriate function for specific tasks:</p>
<p>Opt for specialized functions like <code>vapply()</code> over general-purpose ones like <code>sapply()</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="section-6.-tips-for-efficient-programming.html#cb427-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="at">b =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">c =</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>))</span>
<span id="cb427-2"><a href="section-6.-tips-for-efficient-programming.html#cb427-2" tabindex="-1"></a></span>
<span id="cb427-3"><a href="section-6.-tips-for-efficient-programming.html#cb427-3" tabindex="-1"></a>vapply_result <span class="ot">&lt;-</span> <span class="fu">vapply</span>(data, <span class="cf">function</span>(x) <span class="fu">mean</span>(x), <span class="at">FUN.VALUE=</span><span class="fu">numeric</span>(<span class="dv">1</span>))</span>
<span id="cb427-4"><a href="section-6.-tips-for-efficient-programming.html#cb427-4" tabindex="-1"></a>vapply_result</span></code></pre></div>
<pre><code>## a b c 
## 2 5 8</code></pre>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="section-6.-tips-for-efficient-programming.html#cb429-1" tabindex="-1"></a>sapply_result <span class="ot">&lt;-</span> <span class="fu">sapply</span>(data, <span class="cf">function</span>(x) <span class="fu">mean</span>(x))</span>
<span id="cb429-2"><a href="section-6.-tips-for-efficient-programming.html#cb429-2" tabindex="-1"></a>sapply_result</span></code></pre></div>
<pre><code>## a b c 
## 2 5 8</code></pre>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="section-6.-tips-for-efficient-programming.html#cb431-1" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">microbenchmark</span>(<span class="fu">vapply</span>(data, <span class="cf">function</span>(x) <span class="fu">mean</span>(x), <span class="fu">numeric</span>(<span class="dv">1</span>)),<span class="fu">sapply</span>(data, <span class="cf">function</span>(x) <span class="fu">mean</span>(x))))</span></code></pre></div>
<pre><code>##                                            expr  min   lq   mean median    uq
## 1 vapply(data, function(x) mean(x), numeric(1)) 21.7 22.2 23.847  22.75 23.40
## 2             sapply(data, function(x) mean(x)) 35.0 35.6 37.523  36.10 37.45
##    max neval cld
## 1 80.0   100  a 
## 2 69.2   100   b</code></pre>
<p>The <code>numeric(1)</code> argument specifies that the output should be of type numeric and length 1. This specification enhances performance and makes it faster.</p>
<p><em>3.</em> Optimize equality testing:</p>
<p>If you want to see if a vector contains a single value, <code>any(x == 10)</code> is much faster than <code>10 %in% x</code>. This is because testing equality is simpler than testing inclusion in a set.</p>
<p><em>4.</em> Understand data type coercion:</p>
<p>Some functions coerce inputs into specific types. Thus, if your input is not the right type, the function has to do extra work. Choose functions that work with your data as it is or consider adapting your data format.The most common example of this problem is using <code>apply()</code> on a data frame. <code>apply()</code> always turns its input into a matrix. Not only is this error prone (because a data frame is more general than a matrix), it is also slower.</p>
<p><em>5.</em> Provide additional information:</p>
<p>Other functions will do less work if you give them more information about the problem. It’s always worthwhile to carefully read the documentation and experiment with different arguments. Some examples that I’ve discovered in the past include:</p>
<ul>
<li><p><code>read.csv()</code>: specify known column types with <code>colClasses</code> can enhance parsing efficiency.</p></li>
<li><p><code>factor()</code>: specify known levels with levels ensures that the factor levels are correctly assigned, avoiding potential errors and enhancing the function’s accuracy.</p></li>
<li><p>When unlisting a nested list, using <code>use.names = FALSE</code> in <code>unlist()</code> can significantly improve performance by avoiding the preservation of the names of the list elements, which slow down the operation.</p></li>
</ul>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="section-6.-tips-for-efficient-programming.html#cb433-1" tabindex="-1"></a>l.ex <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]), <span class="at">b =</span> <span class="st">&quot;Z&quot;</span>, <span class="at">c =</span> <span class="cn">NA</span>)</span>
<span id="cb433-2"><a href="section-6.-tips-for-efficient-programming.html#cb433-2" tabindex="-1"></a>l.ex</span></code></pre></div>
<pre><code>## $a
## $a[[1]]
## [1] 1 2 3 4 5
## 
## $a[[2]]
## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot;
## 
## 
## $b
## [1] &quot;Z&quot;
## 
## $c
## [1] NA</code></pre>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="section-6.-tips-for-efficient-programming.html#cb435-1" tabindex="-1"></a><span class="fu">unlist</span>(l.ex)</span></code></pre></div>
<pre><code>##  a1  a2  a3  a4  a5  a6  a7  a8  a9 a10   b   c 
## &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;Z&quot;  NA</code></pre>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="section-6.-tips-for-efficient-programming.html#cb437-1" tabindex="-1"></a><span class="fu">unlist</span>(l.ex,<span class="at">use.names=</span>F)</span></code></pre></div>
<pre><code>##  [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;Z&quot; NA</code></pre>
<ul>
<li><code>interaction()</code>: if you only need combinations that exist in the data, use <code>drop = TRUE</code>.</li>
</ul>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="section-6.-tips-for-efficient-programming.html#cb439-1" tabindex="-1"></a>factor_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>))</span>
<span id="cb439-2"><a href="section-6.-tips-for-efficient-programming.html#cb439-2" tabindex="-1"></a>factor_2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;Y&quot;</span>, <span class="st">&quot;X&quot;</span>))</span>
<span id="cb439-3"><a href="section-6.-tips-for-efficient-programming.html#cb439-3" tabindex="-1"></a></span>
<span id="cb439-4"><a href="section-6.-tips-for-efficient-programming.html#cb439-4" tabindex="-1"></a><span class="fu">interaction</span>(factor_1, factor_2)</span></code></pre></div>
<pre><code>## [1] A.X B.Y A.X
## Levels: A.X B.X A.Y B.Y</code></pre>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="section-6.-tips-for-efficient-programming.html#cb441-1" tabindex="-1"></a><span class="fu">interaction</span>(factor_1, factor_2,<span class="at">drop =</span>T)</span></code></pre></div>
<pre><code>## [1] A.X B.Y A.X
## Levels: A.X B.Y</code></pre>
</div>
<div id="references-1" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> References<a href="section-6.-tips-for-efficient-programming.html#references-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Quick intro into Parallel Computing in R: <a href="https://nceas.github.io/oss-lessons/parallel-computing-in-r/parallel-computing-in-r.html" class="uri">https://nceas.github.io/oss-lessons/parallel-computing-in-r/parallel-computing-in-r.html</a></li>
<li>Parallel Programming in R: <a href="https://www.geeksforgeeks.org/parallel-programming-in-r/" class="uri">https://www.geeksforgeeks.org/parallel-programming-in-r/</a><br />
</li>
<li>“Efficient R programming” book by Colin Gillespie and Robin Lovelace: <a href="https://csgillespie.github.io/efficientR/index.html" class="uri">https://csgillespie.github.io/efficientR/index.html</a></li>
<li>“The R Language: An Engine for Bioinformatics and Data Science” by Giorgi et al.: <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9148156/" class="uri">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9148156/</a></li>
<li>“Advanced R”: <a href="https://adv-r.hadley.nz/" class="uri">https://adv-r.hadley.nz/</a></li>
<li>Rcpp: Seamless R and C++ Integration: <a href="https://www.jstatsoft.org/article/view/v040i08" class="uri">https://www.jstatsoft.org/article/view/v040i08</a></li>
<li>Benchmarks comparisons: <a href="https://github.com/Rdatatable/data.table/wiki/Benchmarks-%3A-Grouping" class="uri">https://github.com/Rdatatable/data.table/wiki/Benchmarks-%3A-Grouping</a></li>
</ul>
<p><img src="logouvic.png" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="section-5.-basic-plots.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="section-7.-introduction-to-object-oriented-programming-oop.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
